<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory">Chapter 3. Portal Development</title><link rel="stylesheet" href="css/jbossorg.css" type="text/css"/><meta xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" name="generator" content="DocBook XSL Stylesheets V1.74.0"/><link rel="home" href="index.html" title="GateIn Reference Guide"/><link rel="up" href="index.html" title="GateIn Reference Guide"/><link rel="prev" href="chap-Reference_Guide-Configuration.html" title="Chapter 2. Configuration"/><link rel="next" href="chap-Reference_Guide-Portlet_development.html" title="Chapter 4. Portlet development"/></head><body><p id="title"><a href="http://www.jboss.org" class="site_href"><strong>JBoss.org</strong></a><a href="http://docs.jboss.org/" class="doc_href"><strong>Community Documentation</strong></a></p><ul class="docnav"><li class="previous"><a accesskey="p" href="chap-Reference_Guide-Configuration.html"><strong>Prev</strong></a></li><li class="next"><a accesskey="n" href="chap-Reference_Guide-Portlet_development.html"><strong>Next</strong></a></li></ul><div class="chapter" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="chap-Reference_Guide-Development"/>Chapter 3. Portal Development</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-Skinning_Portal">3.1. Skinning the portal</a></span></dt><dd><dl><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-Skin_Configuration-Overview">3.1.1. Overview</a></span></dt><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-Skin_Configuration-Types_of_Styles">3.1.2. Skin Components</a></span></dt><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-Skin_Configuration-Skin_Switching">3.1.3. Skin Selection</a></span></dt><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-Skin_Configuration-Skins_in_Page_Markups">3.1.4. Skins in Page Markups</a></span></dt><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guid-Skin_Configuration-Skin_Service">3.1.5. The Skin Service</a></span></dt><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-Skin_Configuration-Default_Skin">3.1.6. The Default Skin</a></span></dt><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-Skin_Configuration-How_to_create_a_new_skin">3.1.7. Creating New Skins</a></span></dt><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-Skin_Configuration-Tips_and_Tricks">3.1.8. Tips and Tricks</a></span></dt></dl></dd><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-Portal_Lifecycle">3.2. Portal Lifecycle</a></span></dt><dd><dl><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-Portal_Lifecycle-Overview">3.2.1. Overview</a></span></dt><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-Portal_Lifecycle-Application_Server_start_and_stop">3.2.2. Application Server start and stop</a></span></dt><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-Portal_Lifecycle-The_Command_Servlet">3.2.3. The Command Servlet</a></span></dt></dl></dd><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-Default_Portal_Configuration">3.3. Default Portal Configuration</a></span></dt><dd><dl><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-Default_Portal_Configuration-Overview">3.3.1. Overview</a></span></dt><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-Default_Portal_Configuration-Configuration">3.3.2. Configuration</a></span></dt></dl></dd><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-Portal_Default_Permission_Configuration">3.4. Portal Default Permission Configuration</a></span></dt><dd><dl><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-Portal_Default_Permission_Configuration-Overview">3.4.1. Overview</a></span></dt><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-Portal_Default_Permission_Configuration-Overwrite_Portal_Default_Permissions">3.4.2. Overwrite Portal Default Permissions</a></span></dt></dl></dd><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-Portal_Navigation_Configuration">3.5. Portal Navigation Configuration</a></span></dt><dd><dl><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-Portal_Navigation_Configuration-Overview">3.5.1. Overview</a></span></dt><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-Portal_Navigation_Configuration-Portal_Navigation">3.5.2. Portal Navigation</a></span></dt><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-Portal_Navigation_Configuration-Group_Navigation">3.5.3. Group Navigation</a></span></dt><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-Portal_Navigation_Configuration-User_Navigation">3.5.4. User Navigation</a></span></dt></dl></dd><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-Internationalization_Configuration">3.6. Internationalization Configuration</a></span></dt><dd><dl><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-Internationalization_Configuration-Overview">3.6.1. Overview</a></span></dt><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-Internationalization_Configuration-Locales_configuration">3.6.2. Locales configuration</a></span></dt><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-Internationalization_Configuration-ResourceBundleService">3.6.3. ResourceBundleService</a></span></dt><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-Internationalization_Configuration-Navigation_Resource_Bundles">3.6.4. Navigation Resource Bundles</a></span></dt><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-Internationalization_Configuration-_Portlets_">3.6.5.  Portlets </a></span></dt><dt><span class="section"><a href="chap-Reference_Guide-Development.html#d0e1478">3.6.6. Translating the language selection form</a></span></dt></dl></dd><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-Localization_Configuration-Pluggable_Locale_Policy">3.7. Pluggable Locale Policy</a></span></dt><dd><dl><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-Localization_Configuration-Pluggable_Locale_Policy-Locale_Policy_API">3.7.1. LocalePolicy API</a></span></dt><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-Localization_Configuration-Pluggable_Locale_Policy-Default_LocalePolicy">3.7.2. Default LocalePolicy</a></span></dt><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-Localization_Configuration-Pluggable_Locale_Policy-Custom_LocalePolicy">3.7.3. Custom LocalePolicy</a></span></dt><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-Localization_Configuration-Pluggable_Locale_Policy-Configuration">3.7.4. LocalePolicy Configuration</a></span></dt><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-Localization_Configuration-Pluggable_Locale_Policy-Non_bridged">3.7.5. Keeping non-bridged resources in sync with current Locale</a></span></dt></dl></dd><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-RTL_Right_To_Left_Framework">3.8. RTL (Right To Left) Framework</a></span></dt><dd><dl><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-RTL_Right_To_Left_Framework-Groovy_templates">3.8.1. Groovy templates</a></span></dt><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-RTL_Right_To_Left_Framework-Stylesheet">3.8.2. Stylesheet</a></span></dt><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-RTL_Right_To_Left_Framework-Images">3.8.3. Images</a></span></dt><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-RTL_Right_To_Left_Framework-Client_side_JavaScript">3.8.4. Client side JavaScript</a></span></dt></dl></dd><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-XML_Resources_Bundles">3.9. XML Resources Bundles</a></span></dt><dd><dl><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-XML_Resources_Bundles-Motivation">3.9.1. Motivation</a></span></dt><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-XML_Resources_Bundles-XML_format">3.9.2. XML format</a></span></dt><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-XML_Resources_Bundles-Portal_support">3.9.3. Portal support</a></span></dt></dl></dd><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-JavaScript_Inter_Application_Communication">3.10. JavaScript Inter Application Communication</a></span></dt><dd><dl><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-JavaScript_Inter_Application_Communication-Overview">3.10.1. Overview</a></span></dt><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-JavaScript_Inter_Application_Communication-Library">3.10.2. Library</a></span></dt><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-JavaScript_Inter_Application_Communication-Syntax">3.10.3. Syntax</a></span></dt><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-JavaScript_Inter_Application_Communication-Example_of_what">3.10.4. Example of Javascript events usage</a></span></dt></dl></dd><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-Upload_Component">3.11. Upload Component</a></span></dt><dd><dl><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-Upload_Component-Upload_Service">3.11.1. Upload Service</a></span></dt></dl></dd><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-Deactivation_of_the_Ajax_Loading_Mask_Layer_">3.12. Deactivation of the Ajax Loading Mask Layer </a></span></dt><dd><dl><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-Deactivation_of_the_Ajax_Loading_Mask_Layer_-Purpose">3.12.1. Purpose</a></span></dt><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-Deactivation_of_the_Ajax_Loading_Mask_Layer_-Synchronous_issue">3.12.2. Synchronous issue</a></span></dt></dl></dd><dt><span class="section"><a href="chap-Reference_Guide-Development.html#sect-Reference_Guide-Javascript_Configuration">3.13. Javascript Configuration</a></span></dt></dl></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Reference_Guide-Skinning_Portal"/>3.1. Skinning the portal</h2></div></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Reference_Guide-Skin_Configuration-Overview"/>3.1.1. Overview</h3></div></div></div><p>GateIn 3.2
      provides robust skinning support for the entire portal User
      Interface (UI). This includes support for skinning all of the
      common portal elements as well as being able to provide custom
      skins and window decoration for individual portlets. All of this
      designed with common graphic resource reuse and ease of development
      in mind.
    </p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Reference_Guide-Skin_Configuration-Types_of_Styles"/>3.1.2. Skin Components</h3></div></div></div><p>
      The complete skinning of a page can be decomposed into three main
      parts:
    </p><div class="variablelist"><dl><dt><span class="term">Portal Skin</span></dt><dd><p>
            The portal skin contains the css styles for the portal and its various UI
            components. This should include all the UI components except for the window
            decorators and portlet specific styles.
          </p></dd><dt><span class="term">Window Styles</span></dt><dd><p>
            The CSS styles associated with the porlet window decorators. The window
            decorators contain the control buttons and boarders surrounding each portlet.
            Individual portlets can have their own window decorator selected, or be 
            rendered without one.
          </p></dd><dt><span class="term">Portlet Skins</span></dt><dd><p>
            The portlet skins effect how portlets are rendered on the page. There are two
            main ways this can be affected:
          </p><div class="variablelist"><dl><dt><span class="term">Portlet Specification CSS Classes</span></dt><dd><p>The
                  portlet specification defines a set of css classes that should
                  be available to portlets. GateIn 3.2 provides
                  these classes as part of the portal skin. This allows each portal skin to
                  define its own look and feel for these default values.
                </p></dd><dt><span class="term">Portlet Skins</span></dt><dd><p>GateIn 3.2
                  provides a means for portlet css files to be loaded based on
                  the current portal skin. This allows a portlet to provide different 
                  css styles to better match the current portal look and feel. Portlet skins
                  provide a much more customizable css experience than just using the portlet
                  specification css classes.
                </p></dd></dl></div></dd></dl></div><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><h2>Note</h2><p>
        The window decorators and the default portlet specification css classes should
        be considered separate types of skinning components, but they need to be included
        as part of the overall portal skin. The portal skin must include these component´s 
        css classes or they will not be displayed correctly.</p><p>
        A portlet skin doesn't need to be included as part of the portal skin and can
        be included within the portlets web application.
    </p></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Reference_Guide-Skin_Configuration-Skin_Switching"/>3.1.3. Skin Selection</h3></div></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="sect-Reference_Guide-Skin_Configuration-Skin_Switching-UI"/>3.1.3.1. Skin Selection Through the User Interface</h4></div></div></div><p>
        There are a few means in which a skin can be selected to be displayed
        to the user. The easiest way to change the skin is select it through
        the user interface. An admin can change the default skin for the portal, or
        a logged in user can select which skin they would prefer to be displayed.
	</p><p>
        Please see the User Guide for information on how to change the skin using the user
        interface.
	</p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="sect-Reference_Guide-Skin_Configuration-Skin_Switching-config"/>3.1.3.2. Setting the Default Skin within the Configuration Files</h4></div></div></div><p>
        The default skin can also be configured through the portal
        configuration files if using the admin user interface is not desired.
        This will allow for the portal to have the new default skin ready when GateIn 3.2
        is first started.
      </p><p>
        The default skin of the portal is called
        <code class="literal">Default</code>. To change this value add a
        <code class="literal">skin</code> tag in the
        <code class="literal">02portal.war/WEB-INF/conf/portal/portal/classic/portal.xml</code>
        configuration file.
      </p><p>
        To change the skin to
        <code class="literal">MySkin</code>
        you would make the following changes:
      </p><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="XML"><!-- XML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">portal-config</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">portal-name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">classic</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">portal-name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">locale</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">en</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">locale</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">access-permissions</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">Everyone</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">access-permissions</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">edit-permission</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">*:/platform/administrators</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">edit-permission</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">skin</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">MySkin</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">skin</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br />
</pre></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Reference_Guide-Skin_Configuration-Skins_in_Page_Markups"/>3.1.4. Skins in Page Markups</h3></div></div></div><p>A GateIn 3.2
      skin contains css styles for the portal's components but
      also shares components that may be reused in portlets. When GateIn 3.2
      generates a portal page markup, it inserts stylesheet links in the page's
      <code class="literal">head</code> tag.
    </p><p>
      There are two main types of css links that will appear in the
      <code class="literal">head</code> tag: a link to the portal skin css file and a link 
      to the portlet skin css files.
    </p><div class="variablelist"><dl><dt><span class="term">Portal Skin</span></dt><dd><p>
            The portal skin will appear as a single link to a css file. This
            link will contain contents from all the portal skin classes merged
            into one file. This allow for the portal skin to be transfered more
            quickly as a single file instead of many multiple smaller files.
            Included with every page render.
          </p></dd><dt><span class="term">Portlet Skin</span></dt><dd><p>
            Each portlet on a page may contribute its own style. The link to
            the portlet skin will only appear on the page if that portlet is
            loaded on the current page. A page may contain many portlet skin css
            links or none.
          </p></dd></dl></div><p>In the code fragment below you can see the two types of links:</p><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="XML"><!-- XML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">head</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">...</span><br />
<span class="xml_comment">&lt;!--&nbsp;The&nbsp;portal&nbsp;skin&nbsp;--&gt;</span><span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">link</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">id</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;CoreSkin&quot;</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">rel</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;stylesheet&quot;</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">type</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;text/css&quot;</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">href</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;/eXoResources/skin/Stylesheet.css&quot;</span><span class="xml_plain">&nbsp;</span><span class="xml_tag_symbols">/&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain"></span><br />
<span class="xml_comment">&lt;!--&nbsp;The&nbsp;portlet&nbsp;skins&nbsp;--&gt;</span><span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">link</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">id</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;web_FooterPortlet&quot;</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">rel</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;stylesheet&quot;</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">type</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;text/css&quot;</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">href</span><span class="xml_tag_symbols">=</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_value">&quot;/web/skin/portal/webui/component/UIFooterPortlet/DefaultStylesheet.css&quot;</span><span class="xml_plain">&nbsp;</span><span class="xml_tag_symbols">/&gt;</span><span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">link</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">id</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;web_NavigationPortlet&quot;</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">rel</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;stylesheet&quot;</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">type</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;text/css&quot;</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">href</span><span class="xml_tag_symbols">=</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_value">&quot;/web/skin/portal/webui/component/UINavigationPortlet/DefaultStylesheet.css&quot;</span><span class="xml_plain">&nbsp;</span><span class="xml_tag_symbols">/&gt;</span><span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">link</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">id</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;web_HomePagePortlet&quot;</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">rel</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;stylesheet&quot;</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">type</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;text/css&quot;</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">href</span><span class="xml_tag_symbols">=</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_value">&quot;/portal/templates/skin/webui/component/UIHomePagePortlet/DefaultStylesheet.css&quot;</span><span class="xml_plain">&nbsp;</span><span class="xml_tag_symbols">/&gt;</span><span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">link</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">id</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;web_BannerPortlet&quot;</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">rel</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;stylesheet&quot;</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">type</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;text/css&quot;</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">href</span><span class="xml_tag_symbols">=</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_value">&quot;/web/skin/portal/webui/component/UIBannerPortlet/DefaultStylesheet.css&quot;</span><span class="xml_plain">&nbsp;</span><span class="xml_tag_symbols">/&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">...</span><br />
<span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">head</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
</pre><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><h2>Note</h2><p>Window styles and the portlet specification CSS classes are included
      within the portal skin.</p></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Reference_Guid-Skin_Configuration-Skin_Service"/>3.1.5. The Skin Service</h3></div></div></div><p>
    The skin service is a GateIn 3.2 service which manages the various types of
    skins. It is reponsible for discovering and deploying the skins into the
    portal.
    </p><div class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="d0e374"/>3.1.5.1. Skin configuration</h4></div></div></div><p>GateIn 3.2 automatically discovers web archives that contain a
      file descriptor for skins (<code class="filename">WEB-INF/gatein-resources.xml</code>). This file is
      reponsible for specifying the portal, portlet and window decorators to be deployed into the
      skin service.
      </p><p>The full schema can be found in lib directory:</p><code class="filename">exo.portal.component.portal.jar/gatein_resources_1_0.xsd</code><p>Here is an example where we define a skin (MySkin) with its CSS location, and specify a few window decorator skins: 
      </p><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="XML"><!-- XML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">gatein-resources</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">portal-skin</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">skin-name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">MySkin</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">skin-name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">css-path</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">/skin/myskin.css</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">css-path</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">overwrite</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">false</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">overwrite</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">portal-skin</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">gatein-resources</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;</span><span class="xml_comment">&lt;!--&nbsp;window&nbsp;style&nbsp;--&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">window-style</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">style-name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">MyThemeCategory</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">style-name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">style-theme</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">theme-name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">MyThemeBlue</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">theme-name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">style-theme</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">style-theme</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">theme-name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">MyThemeRed</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">theme-name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">style-theme</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;...</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br />
</pre></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="sect-Reference_Guide-How_to_Configure_a_Portal_Skin-SkinConfigListener"/>3.1.5.2. Resource Request Filter</h4></div></div></div><p>Because of the Right-To-Left support all CSS files need to be
      retrieved through a Servlet filter and the web application needs to be
      configured to activate this filter. This is already done for
      01eXoResources.war web application which contains the default skin.</p><p>
      Any new web applications containing skinning css files will
      need to have the following added to their
      <code class="literal">web.xml</code>
      :
    </p><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="XML"><!-- XML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">filter</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">filter-name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">ResourceRequestFilter</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">filter-name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">filter-class</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">org.exoplatform.portal.application.ResourceRequestFilter</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">filter-class</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">filter</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">filter-mapping</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">filter-name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">ResourceRequestFilter</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">filter-name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">url-pattern</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">*.css</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">url-pattern</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">filter-mapping</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
</pre></div><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><h2>Note</h2><p>The <code class="literal">display-name</code> element will also need to
      be specified in the <code class="literal">web.xml</code> for the skinning service to work properly
      with the web application.</p></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Reference_Guide-Skin_Configuration-Default_Skin"/>3.1.6. The Default Skin</h3></div></div></div><p>
    The default skin for GateIn 3.2 is located as part of the <code class="literal">01eXoResource.war</code>.
    The main files associated with the skin is show below:
    </p><div class="programlistingco"><pre class="programlisting">WEB-INF/gatein<span xmlns="" class="co" id="area-Reference_Guide-Skin_Configuration-Default_Skin-gatein-resources"><img src="images/gatein/docbook/callouts/1.png" alt="(1)"/></span>-resources.xml
WEB-INF/web.xm<span xmlns="" class="co" id="area-Reference_Guide-Skin_Configuration-Default_Skin-web"><img src="images/gatein/docbook/callouts/2.png" alt="(2)"/></span>l
skin/Styleshee<span xmlns="" class="co" id="area-Reference_Guide-Skin_Configuration-Default_Skin-skin-Stylesheet"><img src="images/gatein/docbook/callouts/3.png" alt="(3)"/></span>t.css</pre><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><img src="images/gatein/docbook/callouts/1.png" alt="1" border="0"/></p></td><td valign="top" align="left"><p>gatein-resources.xml: defines the skin setup to use</p></td></tr><tr><td width="5%" valign="top" align="left"><p><img src="images/gatein/docbook/callouts/2.png" alt="2" border="0"/></p></td><td valign="top" align="left"><p>web.xml: contains the resource filer and has the display-name set</p></td></tr><tr><td width="5%" valign="top" align="left"><p><img src="images/gatein/docbook/callouts/3.png" alt="3" border="0"/></p></td><td valign="top" align="left"><p>Stylesheet.css: contains the CSS class definitions for this skin.</p></td></tr></table></div></div><div class="variablelist"><dl><dt><span class="term">gatein-resources.xml</span></dt><dd><p>
		    For the default portal skin, this file contains definitions for the portal skin, the window
		    decorations that this skin provides and well as defining some javascript resources which are not
		    related to the skin. The default portal skin doesn't directly define portlet skins, these should be
		    provided by the portlets themeselves.
          </p></dd><dt><span class="term">web.xml</span></dt><dd><p>
	        For the default portal skin, the web.xml of the eXoResources.war will contains a lot
	        of information which is mostly irrelevant to the portal skining. The areas of interest
	        in this file is the resourcerequestfilter and the fact that the display-name is set.
          </p></dd><dt><span class="term">Stylesheet.css</span></dt><dd><p>
          The main portal skin stylesheet. The file is the main entry point to the css class definitions
          for the skin. Below is shown the contents of this file:
          </p><div class="programlistingco"><pre class="programlisting">@import url(De<span xmlns="" class="co" id="area-Reference_Guide-Skin_Configuration-Default_Skin-uiportletapplication"><img src="images/gatein/docbook/callouts/1.png" alt="(1)"/></span>faultSkin/portal/webui/component/UIPortalApplicationSkin.css);
@import url(De<span xmlns="" class="co" id="area-Reference_Guide-Skin_Configuration-Default_Skin-components"><img src="images/gatein/docbook/callouts/2.png" alt="(2)"/></span>faultSkin/webui/component/Stylesheet.css);
@import url(Po<span xmlns="" class="co" id="area-Reference_Guide-Skin_Configuration-Default_Skin-portletthemes"><img src="images/gatein/docbook/callouts/3.png" alt="(3)"/></span>rtletThemes/Stylesheet.css);
@import url(Po<span xmlns="" class="co" id="area-Reference_Guide-Skin_Configuration-Default_Skin-portlet"><img src="images/gatein/docbook/callouts/4.png" alt="(4)"/></span>rtlet/Stylesheet.css);</pre><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><img src="images/gatein/docbook/callouts/1.png" alt="1" border="0"/></p></td><td valign="top" align="left"><p>Skin for the main portal page.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><img src="images/gatein/docbook/callouts/2.png" alt="2" border="0"/></p></td><td valign="top" align="left"><p>Skins for various portal components.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><img src="images/gatein/docbook/callouts/3.png" alt="3" border="0"/></p></td><td valign="top" align="left"><p>Window decoration skins.</p></td></tr><tr><td width="5%" valign="top" align="left"><p><img src="images/gatein/docbook/callouts/4.png" alt="4" border="0"/></p></td><td valign="top" align="left"><p>The portlet specificiation css classes.</p></td></tr></table></div></div><p>
		  Instead of defining all the CSS classes in this one file we are instead importing other css stylesheet files,
		  some of which may also import other CSS stylesheets. The css classes are split up between multiple files to make
		  it easier for new skins to reuse parts of the default skin.
		  </p><p>To reuse a CSS stylesheet from the default portal skin you would need to reference the default skin from eXoResources.
		  For example, to include the window decorators from the default skin within a new portal skin you would need to use this import: </p><pre class="programlisting">@import url(/eXoResources/skin/Portlet/Stylesheet.css);</pre><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><h2>Note</h2><p>When the portal skin is added to the page, it merge all the css stylesheets into a single file.</p></div></dd></dl></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Reference_Guide-Skin_Configuration-How_to_create_a_new_skin"/>3.1.7. Creating New Skins</h3></div></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="sect-Reference_Guide-Skin_Configuration-How_to_create_new_portal_skin"/>3.1.7.1. Creating a New Portal Skin</h4></div></div></div><p>
        A new portal will need to be added to the portal through the skin service. As such the web application
        which contains the skin will need to be properly configured for the skin service to discover them. This 
        means properly configuring the ResourceRequestFilter and gatein-resources.xml.
      </p><div class="section" lang="en-US"><div class="titlepage"><div><div><h5 class="title"><a id="d0e493"/>3.1.7.1.1. Portal Skin Configuration</h5></div></div></div><p>
        The gatein-resources.xml will need to specify the new portal skin. This will include specifying the name
        of the new skin, where to locate its css stylesheet file and whether to overwrite an existing portal theme with
        the same name.
        </p><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="XML"><!-- XML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">gatein-resources</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">portal-skin</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">skin-name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">MySkin</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">skin-name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">css-path</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">/skin/myskin.css</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">css-path</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">overwrite</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">false</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">overwrite</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">portal-skin</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">gatein-resources</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br />
</pre><p>The default portal skin and window styles are defined in
    <code class="filename">01eXoResources.war/WEB-INF/gatein-resources.xml</code>.
    </p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><h2>Note</h2><p>
      The css for the portal skin needs to contain the css for all the window decorations and the portlet specification
      css classes.
      </p></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h5 class="title"><a id="d0e508"/>3.1.7.1.2. Portal Skin Preview Icon</h5></div></div></div><p>
         When selecting a skin it is possible to see a preview of what the skin will look like. The current skin needs to
         know about the skin icons for all the available skins, otherwise it will not be able
         to show the previews. When creating a new portal it is recommended to include the preview
         icons of the other skins and to update the other skins with your new portal skin preview.
         </p><div class="mediaobject"><img src="images/PortalDevelopment/Skinning/portal-change-skin.png"/></div><p>
         The portal skin preview icon is specified through the CSS of the portal skin. In order for the current portal skin
         to be able to display the preview it must specify a specific CSS class and set the icon as the background. 
         </p><p>
         For a portal named <span class="bold"><strong>MySkin</strong></span> in must define the following CSS class:
         </p><pre class="programlisting">.UIChangeSkinForm .UIItemSelector .TemplateContainer .<span class="bold"><strong>MySkinImage</strong></span></pre><p>
         In order for the default skin to know about the skin icon for a new portal skin, the preview screenshot
         needs to be place in:</p><code class="filename">01eXoResources.war:/skin/DefaultSkin/portal/webui/component/customization/UIChangeSkinForm/background</code><p>
         The CSS stylesheet for the default portal needs to have the following updated with the preview icon css class. For a skin named 
         <span class="bold"><strong>MySkin</strong></span> then the following needs to be updated:</p><code class="filename">01eXoResources.war:/skin/DefaultSkin/portal/webui/component/customization/UIChangeSkinForm/Stylesheet.css</code><pre class="programlisting">.UIChangeSkinForm .UIItemSelector .TemplateContainer .<span class="bold"><strong>MySkinImage</strong></span> {
  margin: auto;
  width: 329px; height:204px;
  background: url('background/MySkin.jpg') no-repeat top;
  cursor: pointer ;
}</pre></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="sect-Reference_Guide-Skin_Configuration-How_to_create_new_themes"/>3.1.7.2. Creating a New Window Style</h4></div></div></div><p>Window styles are the CSS applied to window decoration. When an
    administrator choose a new application to add on a page he can decide
    which style of decoration would go around the window if any.</p><div class="mediaobject"><img src="images/PortalDevelopment/Skinning/windowStyles.png"/></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h5 class="title"><a id="d0e552"/>3.1.7.2.1. Window Style Configuration</h5></div></div></div><p>
	Window Styles are defined within a gatein-resources.xml file which is used by the skin service to 
	deploy the window style into the portal. Window styles can belong in with a window style category, this
	category and the window styles will need to be specified in resources file.
	</p><p>The following gatein-resource.xml fragment will add MyThemeBlue and MyThemeRed to 
        the MyTheme category.</p><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="XML"><!-- XML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">window-style</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">style-name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">MyTheme</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">style-name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">style-theme</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">theme-name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">MyThemeBlue</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">theme-name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">style-theme</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">style-theme</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">theme-name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">MyThemeRed</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">theme-name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">style-theme</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">window-style</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
</pre><p>The windows style configuration for the default skin is configured in:</p><code class="filename">01eXoResources.war/WEB-INF/gatein-resources.xml</code><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><h2>Note</h2><p>
    When a window style is defined in gatein-resources.xml file, it will be available
    to all portlets regardless if the current portal skin support the window decorator or 
    not. It is recommended that when a new window decorator is added that it is added 
    to all portal skins or that portal skins share a common stylesheet for window decorators.
    </p></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h5 class="title"><a id="d0e568"/>3.1.7.2.2. Window Style CSS</h5></div></div></div><p>
	In order for the skin service to display the window decorators, it must have CSS classes with specific
	naming in relation to the window style name. The service will try and display css based on this naming. 
	The css class must be included as part of the current portal skin for the window decorators to be displayed.
	</p><p>The location of the window decorator css classes for the default portal theme is located at:</p><code class="filename">01eXoResources.war/skin/PortletThemes/Stylesheet.css</code><p/><p>Create the CSS file:</p><pre class="programlisting">
/*---- MyTheme ----*/
.MyTheme .WindowBarCenter .WindowPortletInfo {
  margin-right: 80px; /* orientation=lt */
  margin-left: 80px; /* orientation=rt */
}
.MyTheme .WindowBarCenter .ControlIcon {
  float: right;/* orientation=lt */
  float: left;/* orientation=rt */
  width: 24px; 
  height: 17px;
  cursor: pointer;
  background-image: url('background/MyTheme.png');
}
.MyTheme .ArrowDownIcon {
  background-position: center 20px;
}
.MyTheme .OverArrowDownIcon {
  background-position: center 116px;
}
.MyTheme .MinimizedIcon {
  background-position: center 44px;
}
.MyTheme .OverMinimizedIcon {
  background-position: center 140px;
}
.MyTheme .MaximizedIcon {
  background-position: center 68px;
}
.MyTheme .OverMaximizedIcon {
  background-position: center 164px;
}
.MyTheme .RestoreIcon {
  background-position: center 92px;
}
.MyTheme .OverRestoreIcon {
  background-position: center 188px;
}
.MyTheme .NormalIcon {
  background-position: center 92px;
}
.MyTheme .OverNormalIcon {
  background-position: center 188px;
}
.UIPageDesktop .MyTheme .ResizeArea {
  float: right;/* orientation=lt */
  float: left;/* orientation=rt */
  width: 18px; height: 18px;
  cursor: nw-resize;
  background: url('background/ResizeArea18x18.gif') no-repeat left top; /* orientation=lt */
  background: url('background/ResizeArea18x18-rt.gif') no-repeat right top; /* orientation=rt */
}
.MyTheme .Information {
  height: 18px; line-height: 18px;
  vertical-align: middle; font-size: 10px;
  padding-left: 5px;/* orientation=lt */
  padding-right: 5px;/* orientation=rt */
  margin-right: 18px;/* orientation=lt */
  margin-left: 18px;/* orientation=rt */
}
.MyTheme .WindowBarCenter .WindowPortletIcon {
  background-position: left top; /* orientation=lt */
  background-position: right top; /* orientation=rt */
  padding-left: 20px; /* orientation=lt */
  padding-right: 20px; /* orientation=rt */
  height: 16px;
  line-height: 16px;
}
.MyTheme .WindowBarCenter .PortletName {
  font-weight: bold;
  color: #333333;
  overflow: hidden;
  white-space: nowrap;
  width: 100%;
}
.MyTheme .WindowBarLeft {
  padding-left: 12px;
  background-image: url('background/MyTheme.png');
  background-repeat: no-repeat;
  background-position: left -148px;
}
.MyTheme .WindowBarRight {
  padding-right: 11px;
  background-image: url('background/MyTheme.png');
  background-repeat: no-repeat;
  background-position: right -119px;
}
.MyTheme .WindowBarCenter {
  background-image: url('background/MyTheme.png');
  background-repeat: repeat-x;
  background-position: left -90px;
}
.MyTheme .WindowBarCenter .FixHeight {
  height: 21px;
  padding-top: 8px;
}
.MyTheme .MiddleDecoratorLeft {
  padding-left: 12px;
  background: url('background/MyTheme.png') repeat-y left;
}
.MyTheme .MiddleDecoratorRight {
  padding-right: 11px;
  background: url('background/MyTheme.png') repeat-y right;
}
.MyTheme .MiddleDecoratorCenter {
  background: #ffffff;
}
.MyTheme .BottomDecoratorLeft {
  MyTheme: 12px;
  background-image: url('background/MyTheme.png');
  background-repeat: no-repeat;
  background-position: left -60px;
}
.MyTheme .BottomDecoratorRight {
  padding-right: 11px;
  background-image: url('background/MyTheme.png');
  background-repeat: no-repeat;
  background-position: right -30px;
}
.MyTheme .BottomDecoratorCenter {
  background-image: url('background/MyTheme.png');
  background-repeat: repeat-x;
  background-position: left top;
}
.MyTheme .BottomDecoratorCenter .FixHeight {
  height: 30px;
}
</pre></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h5 class="title"><a id="d0e582"/>3.1.7.2.3. How to Set the Default Window Style</h5></div></div></div>
To set the default window style to be used for a portal, you will to specify the css classes
for a theme called <code class="literal">DefaultTheme</code>.
<div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><h2>Note</h2><p>You do not need to specify the DefaultTheme in gatein-resources.xml</p></div></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="sect-Reference_Guide-Skin_Configuration-Portlet_Styles"/>3.1.7.3. How to Create New Portlet skins</h4></div></div></div><p>Portlets often require additional styles that may not be defined by
    the portal skin. GateIn 3.2 allows portlets to define additional
    stylesheets for each portlet and will append the corresponding
    <code class="literal">link</code> tags to the <code class="literal">head</code>.</p><p>The link ID will be of the form
    <em class="parameter"><code>{portletAppName}{PortletName}</code></em>. For example:
    <code class="literal">ContentPortlet</code> in <code class="literal">content.war</code>, will
    give
    <em class="parameter"><code>id="content<code class="literal">ContentPortlet"</code></code></em></p><p>To define a new CSS file to include whenever a portlet is available on a portal page, the
    following fragment needs to be added in gatein-resources.xml</p><pre class="programlisting">&lt;portlet-skin&gt;
  &lt;application-name&gt;portletAppName&lt;/application-name&gt;
  &lt;portlet-name&gt;PortletName&lt;/portlet-name&gt;
  &lt;skin-name&gt;Default&lt;/skin-name&gt;
  &lt;css-path&gt;/skin/DefaultStylesheet.css&lt;/css-path&gt;
&lt;/portlet-skin&gt;

&lt;portlet-skin&gt;
  &lt;application-name&gt;portletAppName&lt;/application-name&gt;
  &lt;portlet-name&gt;PortletName&lt;/portlet-name&gt;
  &lt;skin-name&gt;OtherSkin&lt;/skin-name&gt;
  &lt;css-path&gt;/skin/OtherSkinStylesheet.css&lt;/css-path&gt;
&lt;/portlet-skin&gt;</pre><p>This will load the DefaultStylesheet.css when the Default skin is used and the
    OtherSkinStylesheet.css when the OtherSkin is used.</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><h2>Note</h2><p>If the current portal skin is not defined as part of the supported
    skins, then the portlet css class will not be loaded. It is recommended to update
    portlet skins whenever a new portal skin is created.</p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h5 class="title"><a id="sect-Reference_Guide-Tips_and_Tricks-Change_portlet_icons"/>3.1.7.3.1. Change portlet icons</h5></div></div></div><p>Each portlet can be represented by an unique icon that you can see in the
      portlet registry or page editor. This icon can be changed by adding an image to the
      directory of the portlet webapplication:</p><div class="itemizedlist"><ul><li><p><code class="filename">skin/DefaultSkin/portletIcons/<em class="replaceable"><code>icon_name.png</code></em></code>.</p></li></ul></div><p>To be used correctly the icon must be named after the
          portlet.</p><p>For example, the icon for an account portlet named AccountPortlet
      would be located at:</p><div class="itemizedlist"><ul><li><p><code class="filename">skin/DefaultSkin/portletIcons/AccountPortlet.png</code></p></li></ul></div><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><h2>Note</h2><p>
      You must use <code class="literal">skin/DefaultSkin/portletIcons/</code> for the directory to store the
      portlet icon regardless of what skin is going to be used.
      </p></div></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="sect-Reference_Guide-Skin_Configuration-Portlet_Specification_CSS_Classes"/>3.1.7.4. How to create a new Portlet Specification CSS Classes</h4></div></div></div><p>The portlet specification defines a set of default css classes that should be available for portlets.
    These classes are included as part of the portal skin. Please see the portlet specification for a list of the 
    default classes that should be available.</p><p>For the default portal skin, the portlet specification CSS classes are defined in :</p><code class="filename">eXoResources.war/skin/Portlet/Stylesheet.css</code></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Reference_Guide-Skin_Configuration-Tips_and_Tricks"/>3.1.8. Tips and Tricks</h3></div></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="sect-Reference_Guide-Tips_and_Tricks-Easier_css_debuggin"/>3.1.8.1. Easier css debugging</h4></div></div></div><p>By default, CSS files are cached and their imports are merged into
      a single CSS file at the server side. This reduces the number of HTTP
      requests from the browser to the server.</p><p>The optimization code is quite simple as all the CSS files are
      parsed at the server startup time and all the @import and url(...)
      references are rewritten to support a single flat file. The result is
      stored in a cache directly used from the
      <code class="literal">ResourceRequestFilter</code>.</p><p>Although the optimization is useful for a production environments,
      it may be easier to deactivate this optimization while debugging
      stylesheets. To do so, set the java system property
      <code class="literal">exo.product.developing</code> to
      <code class="literal">true</code>.</p><p>For example, the property can be passed as a JVM parameter with
      <code class="literal">-D</code> option when running GateIn.</p><pre class="programlisting">sh $JBOSS_HOME/bin/run.sh -Dexo.product.developing=true</pre><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="orderedlist"><ol><li><p>warning("This option may cause display bugs with certain
          browsers like Internet Explorer")</p></li></ol></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="sect-Reference_Guide-Tips_and_Tricks-Some_CSS_techniques"/>3.1.8.2. Some CSS techniques</h4></div></div></div><p>It is recommended that users have some experience with CSS before
      studying GateIn 3.2 CSS.</p><p>GateIn 3.2 relies heavily on CSS to create the layout and effects
      for the UI. Some common techniques for customizing GateIn 3.2 CSS are
      explained below.</p><div class="section" lang="en-US"><div class="titlepage"><div><div><h5 class="title"><a id="sect-Reference_Guide-Some_CSS_techniques-Decorator_pattern"/>3.1.8.2.1. Decorator pattern</h5></div></div></div><p>The decorator is a pattern to create a contour or a curve around
        an area. In order to achieve this effect you need to create 9 cells.
        The BODY is the central area that you want to decorate. The other 8
        cells are distributed around the BODY cell. You can use the width,
        height and background image properties to achieve any decoration
        effect that you want.</p><div class="mediaobject"><img src="images/PortalDevelopment/Skinning/decoratorPattern.png"/></div><pre class="programlisting">
&lt;div class="Parent"&gt;
  &lt;div class="TopLeft"&gt;
    &lt;div class="TopRight"&gt;
      &lt;div class="TopCenter"&gt;&lt;span&gt;&lt;/span&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div class="CenterLeft"&gt;
    &lt;div class="CenterRight"&gt;
      &lt;div class="CenterCenter"&gt;BODY&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div class="BottomLeft"&gt;
    &lt;div class="BottomRight"&gt;
      &lt;div class="BottomCenter"&gt;&lt;span&gt;&lt;/span&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;div&gt;
&lt;/div&gt;
</pre></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h5 class="title"><a id="sect-Reference_Guide-Some_CSS_techniques-Left_margin_left_pattern"/>3.1.8.2.2. Left margin left pattern</h5></div></div></div><p>Left margin left pattern is a technique to create 2 blocks side
        by side. The left block will have a fixed size and the right block
        will take the rest of the available space. When the user resizes the
        browser the added or removed space will be taken from the right
        block.</p><div class="mediaobject"><img src="images/PortalDevelopment/Skinning/leftMarginPattern.png"/></div><pre class="programlisting">
&lt;div class="Parent"&gt;
  &lt;div style="float: left; width: 100px"&gt;
  &lt;/div&gt;
  &lt;div style="margin-left: 105px;"&gt;
  &lt;div&gt;
  &lt;div style="clear: left"&gt;&lt;span&gt;&lt;/span&gt;&lt;/div&gt;
&lt;/div&gt;
</pre></div></div></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Reference_Guide-Portal_Lifecycle"/>3.2. Portal Lifecycle</h2></div></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Reference_Guide-Portal_Lifecycle-Overview"/>3.2.1. Overview</h3></div></div></div><p>
			This chapter describes the portal lifecycle from the application server start to its stop as well as how requests are handled.
		</p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Reference_Guide-Portal_Lifecycle-Application_Server_start_and_stop"/>3.2.2. Application Server start and stop</h3></div></div></div><p>
			A portal instance is simply a web application deployed as a WAR in an application server. Portlets are also part of an enhanced WAR called a portlet application.
		</p><p>
			GateIn 3.2 doesn't require any particular setup for your portlet in most common scenarios and the <code class="filename">web.xml</code> file can remain without any GateIn 3.2 specific configuration.
		</p><p>
			During deployment, GateIn 3.2 will automatically and transparently inject a servlet into the portlet application to be able to interact with it. This feature is dependent on the underlying servlet container but will work out of the box on the proposed bundles.
		</p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Reference_Guide-Portal_Lifecycle-The_Command_Servlet"/>3.2.3. The Command Servlet</h3></div></div></div><p>
			The servlet is the main entry point for incoming requests, it also includes some init code when the portal is launched. This servlet (<code class="literal">org.gatein.wci.command.CommandServlet</code>) is automatically added during deployment and mapped to <code class="literal">/tomcatgateinservlet</code>.
		</p><p>
			This is equivalent to adding the following into <code class="filename">web.xml</code>.
		</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><h2>Note</h2><p>
				As the servlet is already configured this example is for information only.
			</p></div><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="XML"><!-- XML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">servlet</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">servlet-name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">TomcatGateInServlet</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">servlet-name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">servlet-class</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">org.gatein.wci.command.CommandServlet</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">servlet-class</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">load-on-startup</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">0</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">load-on-startup</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">servlet</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;</span><br />
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">servlet-mapping</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">servlet-name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">TomcatGateInServlet</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">servlet-name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">url-pattern</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">/tomcatgateinservlet</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">url-pattern</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">servlet-mapping</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
</pre><p>
			It is possible to filter on the CommandServlet by filtering the URL pattern used by the Servlet mapping.
		</p><p>
			The example below would create a servlet filter that calculates the time of execution of a portlet request.
		</p><p>
			The filter class:
		</p><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"></span>
<!--  --><br/><span class="java_keyword">package</span><span class="java_plain">&nbsp;org</span><span class="java_separator">.</span><span class="java_plain">example</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;java</span><span class="java_separator">.</span><span class="java_plain">io</span><span class="java_separator">.</span><span class="java_type">IOException</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;javax</span><span class="java_separator">.</span><span class="java_plain">servlet</span><span class="java_separator">.</span><span class="java_type">FilterChain</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;javax</span><span class="java_separator">.</span><span class="java_plain">servlet</span><span class="java_separator">.</span><span class="java_type">FilterConfig</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;javax</span><span class="java_separator">.</span><span class="java_plain">servlet</span><span class="java_separator">.</span><span class="java_type">ServletException</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;javax</span><span class="java_separator">.</span><span class="java_plain">servlet</span><span class="java_separator">.</span><span class="java_type">ServletRequest</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_keyword">import</span><span class="java_plain">&nbsp;javax</span><span class="java_separator">.</span><span class="java_plain">servlet</span><span class="java_separator">.</span><span class="java_type">ServletResponse</span><span class="java_separator">;</span>
</span>
<!--  --><br/><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_keyword">class</span><span class="java_plain">&nbsp;</span><span class="java_type">MyFilter</span><span class="java_plain">&nbsp;</span><span class="java_keyword">implements</span><span class="java_plain">&nbsp;javax</span><span class="java_separator">.</span><span class="java_plain">servlet</span><span class="java_separator">.</span><span class="java_type">Filter</span><span class="java_plain">&nbsp;</span><span class="java_separator">{</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;doFilter</span><span class="java_separator">(</span><span class="java_type">ServletRequest</span><span class="java_plain">&nbsp;request</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">ServletResponse</span><span class="java_plain">&nbsp;response</span><span class="java_separator">,</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">FilterChain</span><span class="java_plain">&nbsp;chain</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_keyword">throws</span><span class="java_plain">&nbsp;</span><span class="java_type">IOException</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">ServletException</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">long</span><span class="java_plain">&nbsp;beforeTime&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_type">System</span><span class="java_separator">.</span><span class="java_plain">currentTimeMillis</span><span class="java_separator">();</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;chain</span><span class="java_separator">.</span><span class="java_plain">doFilter</span><span class="java_separator">(</span><span class="java_plain">request</span><span class="java_separator">,</span><span class="java_plain">&nbsp;response</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">long</span><span class="java_plain">&nbsp;afterTime&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_type">System</span><span class="java_separator">.</span><span class="java_plain">currentTimeMillis</span><span class="java_separator">();</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_type">System</span><span class="java_separator">.</span><span class="java_plain">out</span><span class="java_separator">.</span><span class="java_plain">println</span><span class="java_separator">(</span><span class="java_literal">&quot;Time&nbsp;to&nbsp;execute&nbsp;the&nbsp;portlet&nbsp;request&nbsp;(in&nbsp;ms):&nbsp;&quot;</span><span class="java_plain">&nbsp;</span><span class="java_operator">+</span><span class="java_plain">&nbsp;</span><span class="java_separator">(</span><span class="java_plain">afterTime&nbsp;</span><span class="java_operator">-</span><span class="java_plain">&nbsp;beforeTime</span><span class="java_separator">));</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;</span><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;init</span><span class="java_separator">(</span><span class="java_type">FilterConfig</span><span class="java_plain">&nbsp;config</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_keyword">throws</span><span class="java_plain">&nbsp;</span><span class="java_type">ServletException</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;</span><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;</span><span class="java_keyword">public</span><span class="java_plain">&nbsp;</span><span class="java_type">void</span><span class="java_plain">&nbsp;destroy</span><span class="java_separator">()</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;</span><span class="java_separator">{</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;</span><span class="java_separator">}</span>
</span>
<!--  --><br/><span class="java_separator">}</span>
</pre><p>
			The Java EE web application configuration file (<code class="filename">web.xml</code>) of the portlet on which we want to know the time to serve a portlet request. As mentioned above nothing specific to GateIn 3.2 needs to be included, only the URL pattern to set has to be known.
		</p><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="XML"><!-- XML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_plain"></span><br />
<span class="xml_processing_instruction">&lt;?xml&nbsp;version=&quot;1.0&quot;?&gt;</span><span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">web-app</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">xmlns:xsi</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_attribute_name">xsi:schemaLocation</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;http://java.sun.com/xml/ns/j2ee&nbsp;http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_attribute_name">version</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;2.5&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br />
<span class="xml_plain">&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">filter</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">filter-name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">MyFilter</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">filter-name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">filter-class</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">org.example.MyFilter</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">filter-class</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br />
<span class="xml_plain">&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">filter</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">filter-mapping</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">filter-name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">MyFilter</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">filter-name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">url-pattern</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">/tomcatgateinservlet</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">url-pattern</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">dispatcher</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">INCLUDE</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">dispatcher</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">&nbsp;&nbsp;</span><br />
<span class="xml_plain">&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">filter-mapping</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><br />
<span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">web-app</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
</pre><p>
			</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><h2>INCLUDE dispatcher</h2><p>
					It is important to set <code class="literal">INCLUDE</code> as dispatcher as the portal will always hit the CommandServlet through a request dispatcher. Without this, the filter will not be triggered, unless direct access to a resource (such as an image).
				</p></div><p>
		</p></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Reference_Guide-Default_Portal_Configuration"/>3.3. Default Portal Configuration</h2></div></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Reference_Guide-Default_Portal_Configuration-Overview"/>3.3.1. Overview</h3></div></div></div><p>
			GateIn 3.2 default home page URL is <code class="literal">http://{hostname}:{port}/portal/</code>.
         There may be multiple independent portals deployed in parallel at any given time, each of which has its root
         context (i.e.: <code class="literal">http://{hostname}:{port}/sample-portal/</code>).
         Each portal is internally composed of one or more, what we again call 'portals'. There needs to be at least
         one such portal - the default one is called 'classic'. When accessing GateIn 3.2 default home page URL, you
         are automatically redirected to 'classic' portal.

         The default portal performs another important task. When starting up GateIn 3.2 for the first time, its
         JCR database will be empty (that's where portals keep their runtime-configurable settings).
         It's the default portal that's used to detect this, and to trigger automatic data initialization.
		</p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Reference_Guide-Default_Portal_Configuration-Configuration"/>3.3.2. Configuration</h3></div></div></div><p>
			The following example configuration can be found at: "<code class="filename">02portal.war:/WEB-INF/conf/portal/portal-configuration.xml</code>".
		</p><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="XML"><!-- XML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">component</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">key</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">org.exoplatform.portal.config.UserPortalConfigService</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">key</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">type</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">org.exoplatform.portal.config.UserPortalConfigService</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">type</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">component-plugins</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">component-plugin</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">new.portal.config.user.listener</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">set-method</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">initListener</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">set-method</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">type</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">org.exoplatform.portal.config.NewPortalConfigListener</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">type</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">description</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">this&nbsp;listener&nbsp;init&nbsp;the&nbsp;portal&nbsp;configuration</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">description</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">init-params</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">value-param</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">default.portal</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">description</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">The&nbsp;default&nbsp;portal&nbsp;for&nbsp;checking&nbsp;db&nbsp;is&nbsp;empty&nbsp;or&nbsp;not</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">description</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">classic</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">value-param</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">&nbsp;</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">init-params</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">component-plugin</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">component-plugins</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">&nbsp;</span><br />
<span class="xml_plain">&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">component</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
</pre><p>
			In this example the <span class="bold"><strong>classic</strong></span> portal has been set as the default.
		</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><h2>Note</h2><p>
         Components, component-plugins, and init-params are explained in Foundations chapter. For now just note how
         <code class="literal">NewPortalConfigListener</code> component-plugin is used to add configuration to
         <code class="literal">UserPortalConfigService</code>, which is designed in this way to allow other components
         to add configuration to it.
         </p></div></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Reference_Guide-Portal_Default_Permission_Configuration"/>3.4. Portal Default Permission Configuration</h2></div></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Reference_Guide-Portal_Default_Permission_Configuration-Overview"/>3.4.1. Overview</h3></div></div></div><p>
			The default permission configuration for the portal is defined through <code class="literal">org.exoplatform.portal.config.UserACL</code>
         component configuration in the file <code class="filename">02portal.war:/WEB-INF/conf/portal/portal-configuration.xml</code>.
		</p><p>
			It defines 8 permissions types:
		</p><div class="variablelist"><dl><dt><span class="term">super.user</span></dt><dd><p>
						The super user has all the rights on the platform, this user is referred to as <span class="emphasis"><em>root</em></span>.
					</p></dd><dt><span class="term">portal.administrator.groups</span></dt><dd><p>
						Any member of those groups are considered administrators. Default value is <code class="literal">/platform/administrators</code>.
					</p></dd><dt><span class="term">portal.administrator.mstype</span></dt><dd><p>
						Any user with that membership type would be considered administrator or the associated group. Default value is <code class="literal">manager</code>.
					</p></dd><dt><span class="term">portal.creator.groups</span></dt><dd><p>
						This list defines all groups that will be able to manage the different portals. Members of this group
                  also have the permission to create new portals. The format is <code class="literal">membership:/group/subgroup</code>.
					</p></dd><dt><span class="term">navigation.creator.membership.type</span></dt><dd><p>
						Defines the membership type of group managers. The group managers have the permission to create and edit group pages and they can modify the group navigation.
					</p></dd><dt><span class="term">guests.group</span></dt><dd><p>
						Any anonymous user automatically becomes a member of this group when they enter the public pages.
					</p></dd><dt><span class="term">mandatory.groups</span></dt><dd><p>
						Groups that can't be deleted.
					</p></dd><dt><span class="term">mandatory.mstypes</span></dt><dd><p>
						Membership types that can't be deleted.
					</p></dd></dl></div><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="XML"><!-- XML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">component</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">key</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">org.exoplatform.portal.config.UserACL</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">key</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">type</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">org.exoplatform.portal.config.UserACL</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">type</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">&nbsp;&nbsp;&nbsp;</span><br />
<span class="xml_plain">&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">init-params</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">value-param</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">super.user</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">description</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">administrator</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">description</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">root</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">value-param</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">value-param</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">portal.creator.groups</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">description</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">groups&nbsp;with&nbsp;membership&nbsp;type&nbsp;have&nbsp;permission&nbsp;to&nbsp;manage&nbsp;portal</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">description</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">*:/platform/administrators,*:/organization/management/executive-board</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">value-param</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">value-param</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">navigation.creator.membership.type</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">description</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">specific&nbsp;membership&nbsp;type&nbsp;have&nbsp;full&nbsp;permission&nbsp;with&nbsp;group&nbsp;navigation</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">description</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">manager</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">value-param</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">value-param</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">guests.group</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">description</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">guests&nbsp;group</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">description</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">/platform/guests</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">value-param</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">value-param</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">access.control.workspace</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">description</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">groups&nbsp;with&nbsp;memberships&nbsp;that&nbsp;have&nbsp;the&nbsp;right&nbsp;to&nbsp;access&nbsp;the&nbsp;User&nbsp;Control&nbsp;Workspace</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">description</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">*:/platform/administrators,*:/organization/management/executive-board</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">value-param</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br />
<span class="xml_plain">&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">init-params</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">&nbsp;&nbsp;&nbsp;</span><br />
<span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">component</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
</pre></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Reference_Guide-Portal_Default_Permission_Configuration-Overwrite_Portal_Default_Permissions"/>3.4.2. Overwrite Portal Default Permissions</h3></div></div></div><p>When creating custom portals and portal extensions it's possible to override the default configuration by
      using <code class="literal">org.exoplatform.portal.config.PortalACLPlugin</code>, configuring it as an external-plugin of
      <code class="literal">org.exoplatform.portal.config.UserACL</code> service:</p><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="XML"><!-- XML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">external-component-plugins</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">target-component</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">org.exoplatform.portal.config.UserACL</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">target-component</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">component-plugin</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">addPortalACLPlugin</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">set-method</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">addPortalACLPlugin</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">set-method</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">type</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">org.exoplatform.portal.config.PortalACLPlugin</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">type</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">description</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">setting&nbsp;some&nbsp;permission&nbsp;for&nbsp;portal</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">description</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">init-params</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">values-param</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">access.control.workspace.roles</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">*:/platform/administrators</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">*:/organization/management/executive-board</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">values-param</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">values-param</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">portal.creation.roles</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">*:/platform/administrators</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">*:/organization/management/executive-board</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">values-param</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">init-params</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">component-plugin</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">external-component-plugins</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
</pre></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Reference_Guide-Portal_Navigation_Configuration"/>3.5. Portal Navigation Configuration</h2></div></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Reference_Guide-Portal_Navigation_Configuration-Overview"/>3.5.1. Overview</h3></div></div></div><p>
			There are three navigation types available to portal users:
		</p><div class="itemizedlist"><ul><li><p>
					<a class="xref" href="chap-Reference_Guide-Development.html#sect-Reference_Guide-Portal_Navigation_Configuration-Portal_Navigation" title="3.5.2. Portal Navigation">Section 3.5.2, “Portal Navigation”</a>
				</p></li><li><p>
					<a class="xref" href="chap-Reference_Guide-Development.html#sect-Reference_Guide-Portal_Navigation_Configuration-Group_Navigation" title="3.5.3. Group Navigation">Section 3.5.3, “Group Navigation”</a>
				</p></li><li><p>
					<a class="xref" href="chap-Reference_Guide-Development.html#sect-Reference_Guide-Portal_Navigation_Configuration-User_Navigation" title="3.5.4. User Navigation">Section 3.5.4, “User Navigation”</a>
				</p></li></ul></div><p>
			These navigations are configured using the standard XML syntax in the file; "<code class="filename">02portal.war:/WEB-INF/conf/portal/portal-configuration.xml</code>".
		</p><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="XML"><!-- XML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">component</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">key</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">org.exoplatform.portal.config.UserPortalConfigService</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">key</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">type</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">org.exoplatform.portal.config.UserPortalConfigService</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">type</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">component-plugins</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">component-plugin</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">new.portal.config.user.listener</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">set-method</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">initListener</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">set-method</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">type</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">org.exoplatform.portal.config.NewPortalConfigListener</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">type</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">description</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">this&nbsp;listener&nbsp;init&nbsp;the&nbsp;portal&nbsp;configuration</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">description</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">init-params</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">value-param</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">default.portal</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">description</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">The&nbsp;default&nbsp;portal&nbsp;for&nbsp;checking&nbsp;db&nbsp;is&nbsp;empty&nbsp;or&nbsp;not</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">description</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">classic</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">value-param</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">value-param</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">page.templates.location</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">description</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">the&nbsp;path&nbsp;to&nbsp;the&nbsp;location&nbsp;that&nbsp;contains&nbsp;Page&nbsp;templates</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">description</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">war:/conf/portal/template/pages</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">value-param</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">value-param</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">override</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">description</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">The&nbsp;flag&nbsp;parameter&nbsp;to&nbsp;decide&nbsp;if&nbsp;portal&nbsp;metadata&nbsp;is&nbsp;overriden&nbsp;on&nbsp;restarting&nbsp;server</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">description</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">false</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">value-param</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">object-param</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">site.templates.location</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">description</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">description</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">description</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">object</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">type</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;org.exoplatform.portal.config.SiteConfigTemplates&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">field</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;location&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">string</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">war:/conf/portal</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">string</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">field</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">field</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;portalTemplates&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">collection</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">type</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;java.util.HashSet&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;&lt;</span><span class="xml_tag_name">string</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">basic</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">string</span><span class="xml_tag_symbols">&gt;&lt;/</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;&lt;</span><span class="xml_tag_name">string</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">classic</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">string</span><span class="xml_tag_symbols">&gt;&lt;/</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">collection</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">field</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">field</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;groupTemplates&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">collection</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">type</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;java.util.HashSet&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;&lt;</span><span class="xml_tag_name">string</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">group</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">string</span><span class="xml_tag_symbols">&gt;&lt;/</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">collection</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">field</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">field</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;userTemplates&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">collection</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">type</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;java.util.HashSet&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;&lt;</span><span class="xml_tag_name">string</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">user</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">string</span><span class="xml_tag_symbols">&gt;&lt;/</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">collection</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">field</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">object</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">object-param</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">object-param</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">portal.configuration</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">description</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">description</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">description</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">object</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">type</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;org.exoplatform.portal.config.NewPortalConfig&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">field</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;predefinedOwner&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">collection</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">type</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;java.util.HashSet&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;&lt;</span><span class="xml_tag_name">string</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">classic</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">string</span><span class="xml_tag_symbols">&gt;&lt;/</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">collection</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">field</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">field</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;ownerType&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">string</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">portal</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">string</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">field</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">field</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;templateLocation&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">string</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">war:/conf/portal/</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">string</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">field</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">field</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;importMode&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">string</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">conserve</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">string</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">field</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">object</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">object-param</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">object-param</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">group.configuration</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">description</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">description</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">description</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">object</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">type</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;org.exoplatform.portal.config.NewPortalConfig&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">field</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;predefinedOwner&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">collection</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">type</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;java.util.HashSet&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;&lt;</span><span class="xml_tag_name">string</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">/platform/administrators</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">string</span><span class="xml_tag_symbols">&gt;&lt;/</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;&lt;</span><span class="xml_tag_name">string</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">/platform/users</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">string</span><span class="xml_tag_symbols">&gt;&lt;/</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;&lt;</span><span class="xml_tag_name">string</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">/platform/guests</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">string</span><span class="xml_tag_symbols">&gt;&lt;/</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;&lt;</span><span class="xml_tag_name">string</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">/organization/management/executive-board</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">string</span><span class="xml_tag_symbols">&gt;&lt;/</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">collection</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">field</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">field</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;ownerType&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">string</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">group</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">string</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">field</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">field</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;templateLocation&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">string</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">war:/conf/portal</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">string</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">field</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">field</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;importMode&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">string</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">conserve</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">string</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">field</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">object</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">object-param</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">object-param</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">user.configuration</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">description</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">description</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">description</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">object</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">type</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;org.exoplatform.portal.config.NewPortalConfig&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">field</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;predefinedOwner&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">collection</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">type</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;java.util.HashSet&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;&lt;</span><span class="xml_tag_name">string</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">root</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">string</span><span class="xml_tag_symbols">&gt;&lt;/</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;&lt;</span><span class="xml_tag_name">string</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">john</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">string</span><span class="xml_tag_symbols">&gt;&lt;/</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;&lt;</span><span class="xml_tag_name">string</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">mary</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">string</span><span class="xml_tag_symbols">&gt;&lt;/</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;&lt;</span><span class="xml_tag_name">string</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">demo</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">string</span><span class="xml_tag_symbols">&gt;&lt;/</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;&lt;</span><span class="xml_tag_name">string</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">user</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">string</span><span class="xml_tag_symbols">&gt;&lt;/</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">collection</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">field</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">field</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;ownerType&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">string</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">user</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">string</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">field</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">field</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;templateLocation&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">string</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">war:/conf/portal</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">string</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">field</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">field</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">name</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;importMode&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">string</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">conserve</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">string</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">field</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">object</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">object-param</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">init-params</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">component-plugin</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">component-plugins</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">component</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
</pre><p>
 This XML configuration defines where in the portal's war to look for configuration, and which portals, groups, and user specific views
 to include in <code class="literal">portal/group/user</code> navigation. Those files will be used to create an initial navigation when the portal is launched in the first time.
 That information will then be stored in the JCR content repository, and can then be modified and managed from the portal UI.
 </p><p>
Each portal, groups and users navigation is indicated by a configuration paragraph, for example:

</p><div class="programlistingco"><pre class="programlisting">&lt;object-param&gt;
   &lt;name&gt;portal.configuration&lt;/name&gt;
   &lt;description&gt;description&lt;/description&gt;
   &lt;object type="org.exoplatform.portal.config.NewPortalConfig"&gt;
      &lt;field n<span xmlns="" class="co" id="area-Reference_Guide.Portalconf.predifinedOwner"><img src="images/gatein/docbook/callouts/1.png" alt="(1)"/></span>ame="predefinedOwner"&gt;
         &lt;collection type="java.util.HashSet"&gt;
            &lt;value&gt;&lt;string&gt;classic&lt;/string&gt;&lt;/value&gt;
         &lt;/collection&gt;
      &lt;/field&gt;
      &lt;field n<span xmlns="" class="co" id="area-Reference_Guide.Portalconf.ownerType"><img src="images/gatein/docbook/callouts/2.png" alt="(2)"/></span>ame="ownerType"&gt;
         &lt;string&gt;portal&lt;/string&gt;
      &lt;/field&gt;
      &lt;field n<span xmlns="" class="co" id="area-Reference_Guide.Portalconf.templateLocation"><img src="images/gatein/docbook/callouts/3.png" alt="(3)"/></span>ame="templateLocation"&gt;
         &lt;string&gt;war:/conf/portal/&lt;/string&gt;
      &lt;/field&gt;
      &lt;field n<span xmlns="" class="co" id="area-Reference_Guide.Portalconf.importMode"><img src="images/gatein/docbook/callouts/4.png" alt="(4)"/></span>ame="importMode"&gt;
         &lt;string&gt;conserve&lt;/string&gt;
      &lt;/field&gt;
   &lt;/object&gt;
&lt;/object-param&gt;
</pre></div><p>

</p><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><img src="images/gatein/docbook/callouts/1.png" alt="1" border="0"/></p></td><td valign="top" align="left"><p>
						<span class="emphasis"><em> predefinedOwner</em></span> define the navigation owner, portal will look for the configuration files in folder with this name, if there is no suiable folder, a default portal will be created with name is this value.
					</p></td></tr><tr><td width="5%" valign="top" align="left"><p><img src="images/gatein/docbook/callouts/2.png" alt="2" border="0"/></p></td><td valign="top" align="left"><p>
						<span class="emphasis"><em> ownerType</em></span> define the type of portal navigation. It may be a portal, group or user
					</p></td></tr><tr><td width="5%" valign="top" align="left"><p><img src="images/gatein/docbook/callouts/3.png" alt="3" border="0"/></p></td><td valign="top" align="left"><p>
						<span class="emphasis"><em> templateLocation</em></span> the classpath where contains all portal configuration files
					</p></td></tr><tr><td width="5%" valign="top" align="left"><p><img src="images/gatein/docbook/callouts/4.png" alt="4" border="0"/></p></td><td valign="top" align="left"><p>
						<span class="emphasis"><em> importMode</em></span> The mode for navigation import. There are 4 types of import mode:
					</p><div class="itemizedlist"><ul><li><span class="emphasis"><em>conserve</em></span>: Import data when it does not exist, otherwise do nothing.
						</li><li><span class="emphasis"><em>insert</em></span>: Import data when it does not exist, otherwise performs a strategy that adds new data only.
						</li><li><span class="emphasis"><em>merge</em></span>: Import data when it does not exist, update data when it exists.
						</li><li><span class="emphasis"><em>rewrite</em></span>: Overwrite data whatsoever.
						</li></ul></div></td></tr></table></div><p>
		</p><p>	
Base on these parameters, portal will look for the configuration files and create a relevant portal navigation, pages and data import strategy. The portal configuration files will be stored in folders with path look like <code class="literal">{templateLocation}/{ownerType}/{predefinedOwner}</code>, all navigations are defined in the <code class="literal">navigation.xml</code> file, pages are defined in pages.xml and portal configuration is defined in <code class="literal">{ownerType}.xml</code>.
For example, with the above configuration, prtal will look for all configuration files from <code class="literal">war:/conf/portal/portal/classic path.</code>
	</p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Reference_Guide-Portal_Navigation_Configuration-Portal_Navigation"/>3.5.2. Portal Navigation</h3></div></div></div><p>
		The portal navigation incorporates the pages that can be accessed even when the user is not logged in assuming the applicable permissions allow the public access). For example, several portal navigations are used when a company owns multiple trademarks, and sets up a website for each of them.
		</p><p>
			The <span class="bold"><strong>classic</strong></span> portal is configured by four XML files in the <code class="filename">02portal.war:/WEB-INF/conf/portal/portal/classic</code> directory:
		</p><div class="variablelist"><dl><dt><span class="term">portal.xml</span></dt><dd><p>
						This file describes the layout and portlets that will be shown on all pages. The layout usually contains the banner, footer, menu and breadcrumbs portlets.
                  GateIn 3.2 is extremely configurable as every view element (even the banner and footer) is a portlet.
					</p><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="XML"><!-- XML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">portal-config</span><span class="xml_plain">&nbsp;</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;</span><span class="xml_attribute_name">xmlns:xsi</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;</span><span class="xml_attribute_name">xsi:schemaLocation</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;http://www.gatein.org/xml/ns/gatein_objects_1_0&nbsp;http://www.gatein.org/xml/ns/gatein_objects_1_0&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;</span><span class="xml_attribute_name">xmlns</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;http://www.gatein.org/xml/ns/gatein_objects_1_0&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">portal-name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">classic</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">portal-name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">locale</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">en</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">locale</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">access-permissions</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">Everyone</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">access-permissions</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">edit-permission</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">*:/platform/administrators</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">edit-permission</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">properties</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">entry</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">key</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;sessionAlive&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">onDemand</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">entry</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">entry</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">key</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;showPortletInfo&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">1</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">entry</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">properties</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">portal-layout</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">portlet-application</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">portlet</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">application-ref</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">web</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">application-ref</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">portlet-ref</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">BannerPortlet</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">portlet-ref</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">preferences</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">preference</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">template</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">par:/groovy/groovy/webui/component/UIBannerPortlet.gtmpl</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">read-only</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">false</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">read-only</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">preference</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">preferences</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">portlet</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">access-permissions</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">Everyone</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">access-permissions</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">show-info-bar</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">false</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">show-info-bar</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">portlet-application</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">portlet-application</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">portlet</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">application-ref</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">web</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">application-ref</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">portlet-ref</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">NavigationPortlet</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">portlet-ref</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">portlet</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">access-permissions</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">Everyone</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">access-permissions</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">show-info-bar</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">false</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">show-info-bar</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">portlet-application</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">portlet-application</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">portlet</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">application-ref</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">web</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">application-ref</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">portlet-ref</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">BreadcumbsPortlet</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">portlet-ref</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">portlet</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">access-permissions</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">Everyone</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">access-permissions</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">show-info-bar</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">false</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">show-info-bar</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">portlet-application</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">page-body</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">page-body</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">portlet-application</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">portlet</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">application-ref</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">web</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">application-ref</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">portlet-ref</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">FooterPortlet</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">portlet-ref</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">preferences</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">preference</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">template</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">par:/groovy/groovy/webui/component/UIFooterPortlet.gtmpl</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">read-only</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">false</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">read-only</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">preference</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">preferences</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">portlet</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">access-permissions</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">Everyone</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">access-permissions</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">show-info-bar</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">false</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">show-info-bar</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">portlet-application</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">portal-layout</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;</span><br />
<span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">portal-config</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
</pre><p>
						It is also possible to apply a nested container that can also contain portlets. Row, column or tab containers are then responsible for the layout of their child portlets.
					</p><p>
						Each application references a portlet using the id <code class="literal">portal#{portalName}:/{portletWarName}/{portletName}/{uniqueId}</code>
					</p><p>
						Use the <code class="literal">page-body</code> tag to define where GateIn 3.2 should render the current page.
					</p><p>
						The defined <span class="bold"><strong>classic</strong></span> portal is accessible to "Everyone" (at <code class="literal">/portal/public/classic</code>) but only members of the group <code class="literal">/platform/administrators</code> can edit it.
					</p></dd><dt><span class="term">navigation.xml</span></dt><dd><p>
						This file defines all the navigation nodes of the portal. The syntax is simple using the nested node tags. Each node refers to a page defined in the <code class="literal">pages.xml</code> file (explained next).
					</p><p>
						If the administrator want to create node labels for each language, they will have to use <code class="literal">xml:lang</code> attribute in the label tag with value of <code class="literal">xml:lang</code> is the relevant locale.
					</p><p>
						Otherwise, if they want the node label is localized by resource bundle files, the <code class="literal">#{...}</code> syntax will be used, the enclosed property name serves as a key that is automatically passed to the internationalization mechanism. Thus the literal property name is replaced by a localized value taken from the associated properties file matching the current locale. 
					</p><p>	
						For example:
					</p><p>
					</p><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="XML"><!-- XML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">node-navigation</span><span class="xml_plain">&nbsp;</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;</span><span class="xml_attribute_name">xmlns:xsi</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;</span><span class="xml_attribute_name">xsi:schemaLocation</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;http://www.gatein.org/xml/ns/gatein_objects_1_2&nbsp;http://www.gatein.org/xml/ns/gatein_objects_1_2&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;</span><span class="xml_attribute_name">xmlns</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;http://www.gatein.org/xml/ns/gatein_objects_1_2&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">priority</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">1</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">priority</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">page-nodes</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">node</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">home</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">label</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">xml:lang</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;en&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">Home</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">label</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">page-reference</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">portal::classic::homepage</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">page-reference</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">node</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">node</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">sitemap</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">label</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">xml:lang</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;en&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">SiteMap</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">label</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">visibility</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">DISPLAYED</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">visibility</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">page-reference</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">portal::classic::sitemap</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">page-reference</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">node</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;..........</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">page-nodes</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">node-navigation</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
</pre><p>
						This navigation tree can have multiple views inside portlets (such as the breadcrumbs portlet) that render the current view node, the site map or the menu portlets.
					</p></dd><dt><span class="term">pages.xml</span></dt><dd><p>
						This configuration file structure is very similar to <code class="filename">portal.xml</code> and it can also contain container tags.
                  Each application can decide whether to render the portlet border, the window state, the icons or portlet's mode.
					</p><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="XML"><!-- XML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">page-set</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;</span><span class="xml_attribute_name">xmlns:xsi</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;</span><span class="xml_attribute_name">xsi:schemaLocation</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;http://www.gatein.org/xml/ns/gatein_objects_1_0&nbsp;http://www.gatein.org/xml/ns/gatein_objects_1_0&quot;</span><span class="xml_plain">&nbsp;</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;</span><span class="xml_attribute_name">xmlns</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;http://www.gatein.org/xml/ns/gatein_objects_1_0&quot;</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">page</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">homepage</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">title</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">Home&nbsp;Page</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">title</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">access-permissions</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">Everyone</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">access-permissions</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">edit-permission</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">*:/platform/administrators</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">edit-permission</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">portlet-application</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">portlet</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">application-ref</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">web</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">application-ref</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">portlet-ref</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">HomePagePortlet</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">portlet-ref</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">preferences</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">preference</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">template</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">system:/templates/groovy/webui/component/UIHomePagePortlet.gtmpl</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">read-only</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">false</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">read-only</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">preference</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">preferences</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">portlet</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">title</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">Home&nbsp;Page&nbsp;portlet</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">title</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">access-permissions</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">Everyone</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">access-permissions</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">show-info-bar</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">false</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">show-info-bar</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">show-application-state</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">false</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">show-application-state</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">show-application-mode</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">false</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">show-application-mode</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">portlet-application</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">page</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">page</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">sitemap</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">title</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">Site&nbsp;Map</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">title</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">access-permissions</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">Everyone</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">access-permissions</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">edit-permission</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">*:/platform/administrators</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">edit-permission</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">portlet-application</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">portlet</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">application-ref</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">web</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">application-ref</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">portlet-ref</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">SiteMapPortlet</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">portlet-ref</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">portlet</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">title</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">SiteMap</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">title</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">access-permissions</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">Everyone</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">access-permissions</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">show-info-bar</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">false</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">show-info-bar</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">portlet-application</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">page</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;.......</span><br />
<span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">page-set</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
</pre></dd></dl></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Reference_Guide-Portal_Navigation_Configuration-Group_Navigation"/>3.5.3. Group Navigation</h3></div></div></div><p>
			Group navigations are dynamically added to the user navigation at login. This allows users to see the menu of all pages assigned to any groups they belong to.
		</p><p>
			The group navigation menu is configured by three XML files (<code class="filename">navigation.xml</code>, <code class="filename">pages.xml</code> and <code class="filename">portlet-preferences.xml</code>). The syntax used in these files is the same as those covered in <a class="xref" href="chap-Reference_Guide-Development.html#sect-Reference_Guide-Portal_Navigation_Configuration-Portal_Navigation" title="3.5.2. Portal Navigation">Section 3.5.2, “Portal Navigation”</a>.
		</p><p>
			They are also located in the <code class="filename">{templateLocation}/{ownerType}/{predefinedOwner}</code> directory with <code class="literal">ownerType</code> is <code class="literal">group</code> and <code class="literal">predefinedOwner</code> is the path to the group. For example, <code class="filename">portal.war/WEB-INF/conf/portal/group/platform/administrators/</code>.
		</p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Reference_Guide-Portal_Navigation_Configuration-User_Navigation"/>3.5.4. User Navigation</h3></div></div></div><p>
			User navigation is the set of nodes and pages that are owned by the user. They are part of the user's dashboard.
		</p><p>
			Three files configure the user navigation (<code class="filename">navigation.xml</code>, <code class="filename">pages.xml</code> and <code class="filename">portlet-preferences.xml</code>). They are located in the <code class="filename">{templateLocation}/{ownerType}/{predefinedOwner}</code> directory with <code class="literal">ownerType</code> is <code class="literal">user</code> and <code class="literal">predefinedOwner</code> is username that want to create the navigation. For example, if administrator want to create navigation for user <code class="literal">root</code>, he has to locate the configuration files in <code class="filename">portal.war/WEB-INF/conf/portal/user/root </code>
		</p></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Reference_Guide-Internationalization_Configuration"/>3.6. Internationalization Configuration</h2></div></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Reference_Guide-Internationalization_Configuration-Overview"/>3.6.1. Overview</h3></div></div></div><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><h2>Assumed Knowledge</h2><p>
				GateIn 3.2 is fully configurable for internationalization, however users should have a general knowledge of Internationalization in Java products before attempting these configurations.
			</p><p>
				Sun Java hosts a comprehensive guide to internationalizing java products at <a class="ulink" href="http://java.sun.com/docs/books/tutorial/i18n/TOC.html">http://java.sun.com/docs/books/tutorial/i18n/TOC.html</a>.
			</p></div><p>
			All GateIn 3.2 applications contain property files for various languages. They are packaged with the portlets applications in a <code class="filename">WEB-INF/classes/locale/</code> directory.
		</p><p>
			These files are located in the <code class="literal">classes</code> folder of the WEB-INF directory, so as to be loaded by the ClassLoader.
		</p><p>
			All resource files are in a subfolder named <code class="literal">locale</code>.
		</p><p>
			For instance; the translations for the <span class="emphasis"><em>NavigationPortlet</em></span> are located in <code class="literal">web.war/WEB-INF/classes/locale/portlet/portal</code>
		</p><pre class="programlisting">NavigationPortlet_de.properties
NavigationPortlet_en.properties
NavigationPortlet_es.properties
NavigationPortlet_fr.properties
NavigationPortlet_nl.properties
NavigationPortlet_ru.properties
NavigationPortlet_uk.properties
NavigationPortlet_ar.xml
</pre><p>
			Inside those file are typical <code class="literal">key=value</code> Java EE properties. For example the French one:
		</p><pre class="programlisting">javax.portlet.title=Portlet Navigation
</pre><p>
			There are also properties files in the portal itself. They form the <span class="bold"><strong>portal resource bundle</strong></span>.
		</p><p>
			From a portlet you can then access translations from the portlet itself or shared at the portal level, both are aggregated when you need them.
		</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><h2>Translation in XML format</h2><p>
				It is also possible to use a proprietary XML format to define translations. This is a more convenient way to translate a document for some languages such as Japanese, Arabic or Russian. Property files have te be ASCII encoded, while the XML file can define its encoding. As a result it's easier for a human being to read (and fix) a translation in XML instead of having to decode and encode the property file.
			</p><p>
				For more information refer to: <a class="xref" href="chap-Reference_Guide-Development.html#sect-Reference_Guide-XML_Resources_Bundles" title="3.9. XML Resources Bundles">Section 3.9, “XML Resources Bundles”</a>
			</p></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Reference_Guide-Internationalization_Configuration-Locales_configuration"/>3.6.2. Locales configuration</h3></div></div></div><p>
			Various languages are available in the portal package. The configuration below will define which languages are shown in the "Change Language" section and made available to users.
		</p><p>
			The <code class="filename">02portal.war:/WEB-INF/conf/common/common-configuration.xml</code> file of your installation contains the following section:
		</p><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="XML"><!-- XML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">component</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">key</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">org.exoplatform.services.resources.LocaleConfigService</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">key</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">type</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">org.exoplatform.services.resources.impl.LocaleConfigServiceImpl</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">type</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">init-params</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">value-param</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">locale.config.file</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">war:/conf/common/locales-config.xml</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">value-param</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">init-params</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">component</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
</pre><p>
			This configuration points to the locale configuration file.
		</p><p>
			The locale configuration file (<code class="filename">02portal.war:/WEB-INF/conf/common/locales-config.xml</code>) contains the following code:
		</p><div class="programlistingco"><pre class="programlisting">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;locales-config&gt;
  &lt;locale-config&gt;
    &lt;locale&gt;en<span xmlns="" class="co" id="area-Reference_Guide-i18n.locales.configuration.locale"><img src="images/gatein/docbook/callouts/1.png" alt="(1)"/></span>&lt;/locale&gt;
    &lt;output-en<span xmlns="" class="co" id="area-Reference_Guide-i18n.locales.configuration.output-encoding"><img src="images/gatein/docbook/callouts/2.png" alt="(2)"/></span>coding&gt;UTF-8&lt;/output-encoding&gt;
    &lt;input-enc<span xmlns="" class="co" id="area-Reference_Guide-i18n.locales.configuration.input-encoding"><img src="images/gatein/docbook/callouts/3.png" alt="(3)"/></span>oding&gt;UTF-8&lt;/input-encoding&gt;
    &lt;descripti<span xmlns="" class="co" id="area-Reference_Guide-i18n.locales.configuration.description"><img src="images/gatein/docbook/callouts/4.png" alt="(4)"/></span>on&gt;Default configuration for english locale&lt;/description&gt;
  &lt;/locale-config&gt;
 
  &lt;locale-config&gt;
    &lt;locale&gt;fr&lt;/locale&gt;
    &lt;output-encoding&gt;UTF-8&lt;/output-encoding&gt;
    &lt;input-encoding&gt;UTF-8&lt;/input-encoding&gt;
    &lt;description&gt;Default configuration for the french locale&lt;/description&gt;
  &lt;/locale-config&gt;
 
  &lt;locale-config&gt;
    &lt;locale&gt;ar&lt;/locale&gt;
    &lt;output-encoding&gt;UTF-8&lt;/output-encoding&gt;
    &lt;input-encoding&gt;UTF-8&lt;/input-encoding&gt;
    &lt;description&gt;Default configuration for the arabic locale&lt;/description&gt;
    &lt;orientati<span xmlns="" class="co" id="area-Reference_Guide-i18n.locales.configuration.orientation"><img src="images/gatein/docbook/callouts/5.png" alt="(5)"/></span>on&gt;rt&lt;/orientation&gt;
  &lt;/locale-config&gt;
&lt;/locales-config&gt;
</pre><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><img src="images/gatein/docbook/callouts/1.png" alt="1" border="0"/></p></td><td valign="top" align="left"><p>
						<span class="emphasis"><em>locale</em></span> The locale has to be defined such as defined here <a class="ulink" href="http://ftp.ics.uci.edu-pub-ietf-http-related-iso639.txt">http://ftp.ics.uci.edu-pub-ietf-http-related-iso639.txt</a>. In this example "<span class="emphasis"><em>ar</em></span>" is Arabic.
					</p></td></tr><tr><td width="5%" valign="top" align="left"><p><img src="images/gatein/docbook/callouts/2.png" alt="2" border="0"/></p></td><td valign="top" align="left"><p>
						<span class="emphasis"><em>output-encoding</em></span> deals with character encoding. It is recommended that <span class="bold"><strong>UTF-8</strong></span> be used.
					</p></td></tr><tr><td width="5%" valign="top" align="left"><p><img src="images/gatein/docbook/callouts/3.png" alt="3" border="0"/></p></td><td valign="top" align="left"><p>
						<span class="emphasis"><em>input-encoding</em></span> In the java implementation, the encoding parameters will be used for the request response stream. The input-encoding parameter will be used for request setCharacterEncoding(..).
					</p></td></tr><tr><td width="5%" valign="top" align="left"><p><img src="images/gatein/docbook/callouts/4.png" alt="4" border="0"/></p></td><td valign="top" align="left"><p>
						<span class="emphasis"><em>description</em></span> Description for the language
					</p></td></tr><tr><td width="5%" valign="top" align="left"><p><img src="images/gatein/docbook/callouts/5.png" alt="5" border="0"/></p></td><td valign="top" align="left"><p>
						<span class="emphasis"><em>orientation</em></span> The default orientation of text and images is Left-To-Right. GateIn 3.2 supports <span class="bold"><strong>Right-To-Left</strong></span> orientation. Modifying text orientation is explained in <a class="xref" href="chap-Reference_Guide-Development.html#sect-Reference_Guide-RTL_Right_To_Left_Framework" title="3.8. RTL (Right To Left) Framework">Section 3.8, “RTL (Right To Left) Framework”</a>.
					</p></td></tr></table></div></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Reference_Guide-Internationalization_Configuration-ResourceBundleService"/>3.6.3. ResourceBundleService</h3></div></div></div><p>
			The resource bundle service is configured in: <code class="filename">02portal.war:/WEB-INF/conf/common/common-configuration.xml</code>:
		</p><div class="programlistingco"><pre class="programlisting">&lt;component&gt;
  &lt;key&gt;org.exoplatform.services.resources.ResourceBundleService&lt;/key&gt;
  &lt;type&gt;org.exoplatform.services.resources.impl.SimpleResourceBundleService&lt;/type&gt;
  &lt;init-params&gt;
    &lt;values-param&gt;
      &lt;name&gt;cl<span xmlns="" class="co" id="area-Reference_Guide-i18n.rb.service.classpath_resources"><img src="images/gatein/docbook/callouts/1.png" alt="(1)"/></span>asspath.resources&lt;/name&gt;
      &lt;description&gt;The resources  that start with the following package name should be load from file system&lt;/description&gt;
      &lt;value&gt;locale.portlet&lt;/value&gt;      
    &lt;/values-param&gt;      
    &lt;values-param&gt;
      &lt;name&gt;in<span xmlns="" class="co" id="area-Reference_Guide-i18n.rb.service.init_resources"><img src="images/gatein/docbook/callouts/2.png" alt="(2)"/></span>it.resources&lt;/name&gt;
      &lt;description&gt;Initiate the following resources during the first launch&lt;/description&gt;
      &lt;value&gt;locale.portal.expression&lt;/value&gt;
      &lt;value&gt;locale.portal.services&lt;/value&gt;
      &lt;value&gt;locale.portal.webui&lt;/value&gt;
      &lt;value&gt;locale.portal.custom&lt;/value&gt;
      &lt;value&gt;locale.navigation.portal.classic&lt;/value&gt;
      &lt;value&gt;locale.navigation.group.platform.administrators&lt;/value&gt;
      &lt;value&gt;locale.navigation.group.platform.users&lt;/value&gt;
      &lt;value&gt;locale.navigation.group.platform.guests&lt;/value&gt;
      &lt;value&gt;locale.navigation.group.organization.management.executive-board&lt;/value&gt;               
    &lt;/values-param&gt;      
    &lt;values-param&gt;
      &lt;name&gt;po<span xmlns="" class="co" id="area-Reference_Guide-i18n.rb.service.portal_resource_names"><img src="images/gatein/docbook/callouts/3.png" alt="(3)"/></span>rtal.resource.names&lt;/name&gt;
      &lt;description&gt;The properties files of  the portal ,  those file will be merged 
        into one ResoruceBundle properties &lt;/description&gt;
      &lt;value&gt;locale.portal.expression&lt;/value&gt;
      &lt;value&gt;locale.portal.services&lt;/value&gt;
      &lt;value&gt;locale.portal.webui&lt;/value&gt;
      &lt;value&gt;locale.portal.custom&lt;/value&gt;        
    &lt;/values-param&gt;      
  &lt;/init-params&gt;
&lt;/component&gt;
</pre><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><img src="images/gatein/docbook/callouts/1.png" alt="1" border="0"/></p></td><td valign="top" align="left"><p>
						<span class="emphasis"><em>classpath.resources</em></span> are discussed in a later section.
					</p></td></tr><tr><td width="5%" valign="top" align="left"><p><img src="images/gatein/docbook/callouts/2.png" alt="2" border="0"/></p></td><td valign="top" align="left"><p>
						<span class="emphasis"><em>init.resources</em></span> TODO
					</p></td></tr><tr><td width="5%" valign="top" align="left"><p><img src="images/gatein/docbook/callouts/3.png" alt="3" border="0"/></p></td><td valign="top" align="left"><p>
						<span class="emphasis"><em>portal.resource.names</em></span> Defines all resources that belong to the <span class="emphasis"><em>Portal Resource Bundle</em></span>.
					</p><p>
						These resources are merged to a single resource bundle which is accessible from anywhere in GateIn 3.2. All these keys are located in the same bundle, which is separated from the navigation resource bundles.
					</p></td></tr></table></div></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Reference_Guide-Internationalization_Configuration-Navigation_Resource_Bundles"/>3.6.4. Navigation Resource Bundles</h3></div></div></div><p>
			There is a resource bundle for each navigation. A navigation can exist for user, groups, and portal.
		</p><p>
			The previous example shows bundle definitions for the navigation of the classic portal and of four different groups. Each of these resource bundles occupies a different sphere, they are independent of each other and they are not included in the <em class="parameter"><code>portal.resource.names</code></em> parameter.
		</p><p>
			The properties for a group must be in the <code class="filename">WEB-INF/classes/locale/navigation/group/</code> folder. <code class="literal">/WEB-INF/classes/locale/navigation/group/organization/management/executive-board_en.properties</code>, for example.
		</p><p>
			The folder and file names must correspond to the group hierarchy. The group name "<em class="parameter"><code>executive-board</code></em>" is followed by the iso 639 code.
		</p><p>
			For each language defined in <em class="parameter"><code>LocalesConfig</code></em> must have a resource file defined. If the name of a group is changed the name of the folder and/or files of the correspondent navigation resource bundles must also be changed.
		</p><p>
			Content of <code class="filename">executive-board_en.properties</code>: 
</p><pre class="programlisting">organization.title=Organization
organization.newstaff=New Staff
organization.management=Management
</pre><p>
		</p><p>
			This resource bundle is only accessible for the navigation of the <em class="parameter"><code>organization.management.executive-board</code></em> group.
		</p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Reference_Guide-Internationalization_Configuration-_Portlets_"/>3.6.5.  Portlets </h3></div></div></div><p>
			Portlets are independent applications and deliver their own resource files.
		</p><p>
			All shipped portlet resources are located in the <span class="bold"><strong>locale/portlet</strong></span> subfolder. The ResourceBundleService parameter <span class="bold"><strong>classpath.resources</strong></span> defines this subfolder. 
		</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="procedure"><a id="proc-Reference_Guide-_Portlets_-Example"/><p class="title"><b>Procedure 3.1. Example</b></p><ol class="1"><li><p>
					To add a Spanish translation to the <em class="parameter"><code>GadgetPortlet</code></em>.
				</p></li><li><p>
					Create the file <code class="literal">GadgetPortlet_es.properties</code> in: <code class="filename">WEB-INF/classes/locale/portlet/gadget/GadgetPortlet</code>.
				</p></li><li><p>
					In <code class="filename">portlet.xml</code>, add <em class="parameter"><code>Spanish</code></em> as a <span class="bold"><strong>supported-locale</strong></span> ('es' is the 2 letters code for Spanish), the <span class="bold"><strong>resource-bundle</strong></span> is already declared and is the same for all languages :
				</p><pre xmlns="" class="XML"><!-- XML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">supported-locale</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">en</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">supported-locale</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">supported-locale</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">es</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">supported-locale</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">resource-bundle</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">locale.portlet.gadget.GadgetPortlet</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">resource-bundle</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
</pre></li></ol></div><p>
			See the portlet specification for more details about portlet internationalization.
		</p><div class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="sect-Reference_Guide-_Portlets_-Standard_portlet_resource_keys"/>3.6.5.1. Standard portlet resource keys</h4></div></div></div><p>
				The portlet specifications defines three standard keys: Title, Short Title and Keywords. Keywords is formatted as a comma-separated list of tags.
			</p><pre class="programlisting"> javax.portlet.title=Breadcrumbs Portlet
 javax.portlet.short-title=Breadcrumbs
 javax.portlet.keywords=Breadcrumbs, Breadcrumb
</pre></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h4 class="title"><a id="sect-Reference_Guide-_Portlets_-Debugging_resource_bundle_usage"/>3.6.5.2. Debugging resource bundle usage</h4></div></div></div><p>
				When translating an application it can sometimes be difficult to find the right key for a given property.
			</p><p>
				Execute the portal in <span class="bold"><strong>debug mode</strong></span> and select, from the available languages, select the special language; <span class="bold"><strong>Magic locale</strong></span>.
			</p><p>
				This feature translates a key to the same key value.
			</p><p>
				For example, the translated value for the key "<em class="parameter"><code>organization.title</code></em>" is simply the value "<em class="parameter"><code>organization.title</code></em>". Selecting that language allows use of the portal and its applications with all the keys visible. This makes it easier to find out the correct key for a given label in the portal page.
			</p></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="d0e1478"/>3.6.6. Translating the language selection form</h3></div></div></div><div class="mediaobject" align="center"><img src="images/PortalDevelopment/InternationalizationConfiguration/LanguageChoice.png" align="middle"/></div><p>When choosing a language as on the screenshot above, the user is presented with a list of languages on the left side in the current chosen language
        and on the right side, the same language translated into its own language. 
        Those texts are obtained from the JDK API <code class="literal">java.util.Locale.getDisplayedLanguage()</code> and <code class="literal">java.util.Locale.getDisplayedCountry()</code> (if needed) and all languages may not be translated and can also depend on the JVM currently used.
        It is still possible to override those values by editing the <code class="literal">locale.portal.webui</code> resource bundle, to do so edit the file <code class="filename">gatein.ear/02portal.war/WEB-INF/classes/locale/portal/webui_xx_yy.properties</code> where <code class="literal">xx_yy</code>
        represents the country code of the language in which you want to translate a particular language.
        In that file, add or modify a key such as <code class="literal">Locale.xx_yy</code> with the value being the translated string.
        </p><div class="example"><a id="d0e1504"/><p class="title"><b>Example 3.1. Changing the displayed text for Traditional Chinese in French</b></p><div class="example-contents"><p>First edit <code class="filename">gatein.ear/02portal.war/WEB-INF/classes/locale/portal/webui_fr.properties</code> where <code class="literal">ne</code> is the country code for French, and add
           the following key into it:
           </p><pre class="programlisting">
              Locale.zh_TW=Chinois traditionnel
           </pre><p>
           After a restart the language will be updated in the user interface when a user is trying to change the current language.
           </p></div></div><br class="example-break"/></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Reference_Guide-Localization_Configuration-Pluggable_Locale_Policy"/>3.7. Pluggable Locale Policy</h2></div></div></div><p>Every request processed by every portlet is invoked within a context of current <code class="literal">Locale</code>.
      Current <code class="literal">Locale</code> can be retrieved by calling <code class="literal">getLocale()</code> method of
      <code class="literal">javax.portlet.PortletRequest</code> interface.
   </p><p>The exact algorithm for determining the current <code class="literal">Locale</code> is not specified by Portlet Specification,
      and is left to portlet containers to implement the way they deem most appropriate.
   </p><p>In GateIn 3.2 each portal instance has a default language which can be used to present content for new users.
      Another option is to use each user’s browser language preference, provided it matches one of the available
      localizations that GateIn 3.2 supports, and only fallback to portal default language if no match is found.
      Every user, while visiting a portal, has an option to change the language of the user interface by using a Language chooser.
      The choice can be remembered for the duration of the session, or it can be remembered for a longer period using a browser cookie,
      or - for registered and logged-in users - it can be saved into user’s profile.
   </p><p>So, we can see that there is more than one way to determine the <code class="literal">Locale</code> to be used for displaying a portal page
      to the user. For this reason the mechanism for determining the current <code class="literal">Locale</code> of the request
      is pluggable in GateIn 3.2, so the exact algorithm can be customized.
   </p><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Reference_Guide-Localization_Configuration-Pluggable_Locale_Policy-Locale_Policy_API"/>3.7.1. LocalePolicy API</h3></div></div></div><p>Customization is achieved by using LocalePolicy API, which is a simple API consisting of one interface,
            and one class:
         </p><div class="itemizedlist"><ul><li><p><code class="literal">org.exoplatform.services.resources.LocalePolicy</code> interface</p></li><li><p><code class="literal">org.exoplatform.services.resources.LocaleContextInfo</code> class</p></li></ul></div><p><code class="literal">LocalePolicy</code> interface defines a single method that’s invoked on the installed
            <code class="literal">LocalePolicy</code> service implementation:
         </p><pre class="programlisting">public interface LocalePolicy
{
   public Locale determineLocale(LocaleContextInfo localeContext);
}
         </pre><p><code class="literal">Locale</code> returned by determineLocale() method is the <code class="literal">Locale</code>
            that will be returned to portlets when they call <code class="literal">javax.portlet.PortletRequest.getLocale()</code> method.
         </p><p>The returned <code class="literal">Locale</code> has to be one of the locales supported by portal,
            otherwise it will fallback to portal-default <code class="literal">Locale</code>.
         </p><p>The supported locales are listed in <code class="filename">gatein.ear/02portal.war/WEB-INF/conf/common/locales-config.xml</code> file
            as described in <a class="xref" href="chap-Reference_Guide-Development.html#sect-Reference_Guide-Internationalization_Configuration-Locales_configuration" title="3.6.2. Locales configuration">Section 3.6.2, “Locales configuration”</a> .
         </p><p>The <code class="literal">determineLocale()</code> method takes a parameter of type <code class="literal">LocaleContextInfo</code>,
            which represents a compilation of preferred locales from different sources - user’s profile, portal default,
            browser language settings, current session, browser cookie … All these different sources of <code class="literal">Locale</code>
            configuration or preference are used as input to <code class="literal">LocalePolicy</code> implementation
            that decides which <code class="literal">Locale</code> should be used.
         </p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Reference_Guide-Localization_Configuration-Pluggable_Locale_Policy-Default_LocalePolicy"/>3.7.2. Default <code class="literal">LocalePolicy</code></h3></div></div></div><p>By default, <code class="literal">org.exoplatform.portal.application.localization.DefaultLocalePolicyService</code> - an implementation
               of <code class="literal">LocalePolicy</code> - is installed to provide the default behaviour.
               This, however, can easily be extended and overriden. A completely new implementation can also be written from scratch.
         </p><p><code class="literal">DefaultLocalePolicyService</code> treats logged-in users slightly differently than anonymous users.
            Logged-in users have a profile that can contain language preference, while anonymous users don't.
         </p><p>Here is an algorithm used for anonymous users.</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="procedure"><a id="d0e1636"/><p class="title"><b>Procedure 3.2. An algorithm for anonymous users</b></p><ol class="1"><li><p>
                  Iterate over <code class="literal">LocaleContextInfo</code> properties in the following order:
               </p><div class="itemizedlist"><ul><li><p><code class="literal">cookieLocales</code></p></li><li><p><code class="literal">sessionLocale</code></p></li><li><p><code class="literal">browserLocales</code></p></li><li><p><code class="literal">portalLocale</code></p></li></ul></div></li><li><p>Get each property's value - if it's a collection, get the first value.
               </p></li><li><p>If value is one of the supported locales return it as a result.
               </p></li><li><p>If value is not in the supported locales set, try to remove country information,
                  and check if a language matching locale is in the list of supported locales.
                  If so, return it as a result.
               </p></li><li><p>Otherwise, continue with the next property.
               </p></li></ol></div><p>If no supported locale is found the return locale eventually defaults to <code class="literal">portalLocale</code>.
         </p><p>The algorithm for logged-in users is virtually the same except that the first <code class="literal">Locale</code>
            source checked is user's profile.</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="procedure"><a id="d0e1684"/><p class="title"><b>Procedure 3.3. An algorithm for logged-in users</b></p><ol class="1"><li><p>
                  Iterate over <code class="literal">LocaleContextInfo</code> properties in the following order:
               </p><div class="itemizedlist"><ul><li><p><code class="literal">userProfile</code></p></li><li><p><code class="literal">cookieLocales</code></p></li><li><p><code class="literal">sessionLocale</code></p></li><li><p><code class="literal">browserLocales</code></p></li><li><p><code class="literal">portalLocale</code></p></li></ul></div></li><li><p>The rest is the same as for anonymous users ...</p></li></ol></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Reference_Guide-Localization_Configuration-Pluggable_Locale_Policy-Custom_LocalePolicy"/>3.7.3. Custom <code class="literal">LocalePolicy</code></h3></div></div></div><p>The easiest way to customize the <code class="literal">LocalePolicy</code> is to extend <code class="literal">DefaultLocalePolicyService</code>.
            The study of its source code will be required. There is ample JavaDoc that provides thorough information.
            Most customizations will involve simply overriding one or more of its protected methods.
         </p><p>
            An example of a customization is an already provided <code class="literal">NoBrowserLocalePolicyService</code>.
            By overriding just one method, it skips any use of browser language preference.
         </p><pre class="programlisting">public class NoBrowserLocalePolicyService extends DefaultLocalePolicyService
{
   /**
    * Override super method with no-op.
    *
    * @param context locale context info available to implementations in order to determine appropriate Locale
    * @return null
    */
   @Override
   protected Locale getLocaleConfigFromBrowser(LocaleContextInfo context)
   {
      return null;
   }
}
         </pre></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Reference_Guide-Localization_Configuration-Pluggable_Locale_Policy-Configuration"/>3.7.4. LocalePolicy Configuration</h3></div></div></div><p>The <code class="literal">LocalePolicy</code> framework is enabled for portlets by configuring LocalizationLifecycle class in portal's webui configuration file:
         <code class="filename">gatein.ear/02portal.war/WEB-INF/webui-configuration.xml</code>:</p><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="XML"><!-- XML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">application-lifecycle-listeners</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">listener</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">org.exoplatform.portal.application.localization.LocalizationLifecycle</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">listener</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">application-lifecycle-listeners</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br />
</pre><p>The default <code class="literal">LocalePolicy</code> implementation is installed as GateIn Kernel portal service via
            <code class="filename">gatein.ear/lib/exo.portal.webui.portal-VERSION.jar/conf/portal/configuration.xml</code>.
         </p><p>The following fragment is responsible for installing the service:
         </p><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="XML"><!-- XML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">component</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">key</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">org.exoplatform.services.resources.LocalePolicy</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">key</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">type</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">org.exoplatform.portal.application.localization.DefaultLocalePolicyService</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">type</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">component</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br />
</pre><p>Besides implementing <code class="literal">LocalePolicy</code>, the service class also needs to implement
            <code class="literal">org.picocontainer.Startable</code> interface in order to get installed.
         </p><p>This configuration file should not be changed. The configuration in it can be overriden by placing it into portal's .war file:
            <code class="filename">gatein.ear/02portal.war/WEB-INF/conf/configuration.xml</code> (usually as another file included into this one).
         </p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Reference_Guide-Localization_Configuration-Pluggable_Locale_Policy-Non_bridged"/>3.7.5. Keeping non-bridged resources in sync with current Locale</h3></div></div></div><p>In portals all the resources that are not portlets themselves but are accessed through portlets - reading
            data through <code class="literal">PortletRequest</code>, and writing to <code class="literal">PortletResponse</code> - are
            referred to as 'bridged'. Any resources that are accessed directly, bypassing portal filters and servlets,
            are referred to as 'non-bridged'.
         </p><p>Non-bridged servlets, and .jsps have no access to <code class="literal">PortalRequest</code>. They don't use
            <code class="literal">PortletRequest.getLocale()</code> to determine current <code class="literal">Locale</code>.
            Instead, they use <code class="literal">ServletRequest.getLocale()</code> which is subject to precise semantics
            defined by Servlet specification - it reflects browser's language preference.
         </p><p>In other words, non-bridged resources don't have a notion of current <code class="literal">Locale</code>
            in the same sense that portlets do. The result is that when mixing portlets and non-bridged resources there
            may be a localization mismatch - an inconsistency in the language used by different resources composing your portal
            page.
         </p><p>This problem is addressed by <code class="literal">LocalizationFilter</code>. This is a filter that changes the behaviour
            of <code class="literal">ServletRequest.getLocale()</code> method so that it behaves the same way as
            <code class="literal">PortletRequest.getLocale()</code>. That way even localization of servlets, and .jsps
            accessed in a non-bridged manner can stay in sync with portlet localization.
         </p><p><code class="literal">LocalizationFilter</code> is installed through portal's web.xml file: <code class="filename">gatein.ear/02portal.war/WEB-INF/web.xml</code>
         </p><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="XML"><!-- XML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_plain">&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">filter</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">filter-name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">LocalizationFilter</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">filter-name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">filter-class</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">org.exoplatform.portal.application.localization.LocalizationFilter</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">filter-class</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">filter</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;...</span><br />
<span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">filter-mapping</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">filter-name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">LocalizationFilter</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">filter-name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">url-pattern</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">*.jsp</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">url-pattern</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">dispatcher</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">INCLUDE</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">dispatcher</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">dispatcher</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">FORWARD</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">dispatcher</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">dispatcher</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">REQUEST</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">dispatcher</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">dispatcher</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">ERROR</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">dispatcher</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">filter-mapping</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br />
</pre><p>There is a tiny limitation with this mechanism in that it is unable to determine the current portal,
            and consequently its default language. As a result the portalLocale defaults to <code class="literal">English</code>, but can be configured
            to something else by using filter's <code class="literal">PortalLocale</code> init param. For example:
         </p><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="XML"><!-- XML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_plain">&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">filter</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">filter-name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">LocalizationFilter</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">filter-name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">filter-class</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">org.exoplatform.portal.application.localization.LocalizationFilter</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">filter-class</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">init-param</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">param-name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">PortalLocale</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">param-name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">param-value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">fr_FR</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">param-value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">init-param</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">filter</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">&nbsp;</span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br />
</pre><p>By default, <code class="literal">LocalizationFilter</code> is applied to *.jsp, which is considered the minimum
            required by GateIn 3.2 to properly keep its non-bridged resources in sync with the rest of the portal.
            Additionally deployed portlets, and portal applications, may need broader mapping to cover their non-bridged
            resources.
         </p><p>Avoid using <code class="literal">/*</code>, <code class="literal">/public/*</code>, <code class="literal">/private/*</code>,
            and similar broad mappings as <code class="literal">LocalizationFilter</code> sometimes adversely interacts with the
            processing of portlet requests. Use multiple filter-mappings instead to specifically target non-bridged resources.
         </p><p>Keeping the mapping limited to only non-bridged resources will minimize any impact on performance as well.
         </p></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Reference_Guide-RTL_Right_To_Left_Framework"/>3.8. RTL (Right To Left) Framework</h2></div></div></div><p>
		The text orientation depends on the current locale setting. The orientation is a Java 5 enum that provides a set of functionalities:
	</p><pre class="programlisting">
   LT, // Western Europe
   RT, // Middle East (Arabic, Hebrew)
   TL, // Japanese, Chinese, Korean
   TR; // Mongolian
   public boolean isLT() { ... }
   public boolean isRT() { ... }
   public boolean isTL() { ... }
   public boolean isTR() { ... }
</pre><p>
		The object defining the Orientation for the current request is the <code class="literal">UIPortalApplication</code>. However it should be accessed at runtime using the <code class="literal">RequestContext</code> that delegates to the <code class="literal">UIPortalApplication</code>.
	</p><p>
		In the case of a <code class="literal">PortalRequestContext</code> it is a direct delegate as the <code class="literal">PortalRequestContext</code> has a reference to the current <code class="literal">UIPortalApplication</code>.
	</p><p>
		In the case of a different context such as the <code class="literal">PortletRequestContext</code>, it delegates to the parent context given the fact that the root <code class="literal">RequestContext</code> is always a <code class="literal">PortalRequestContext</code>.
	</p><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Reference_Guide-RTL_Right_To_Left_Framework-Groovy_templates"/>3.8.1. Groovy templates</h3></div></div></div><p>
			Orientation is defined by implicit variables in the groovy binding context:
		</p><div class="variablelist"><dl><dt><span class="term">Orientation</span></dt><dd><p>
						The current orientation as an Orientation
					</p></dd><dt><span class="term">isLT</span></dt><dd><p>
						The value of orientation.isLT()
					</p></dd><dt><span class="term">isRT</span></dt><dd><p>
						The value of orientation.isRT()
					</p></dd><dt><span class="term">dir</span></dt><dd><p>
						The string 'ltr' if the orientation is LT or the string 'rtl' if the orientation is RT.
					</p></dd></dl></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Reference_Guide-RTL_Right_To_Left_Framework-Stylesheet"/>3.8.2. Stylesheet</h3></div></div></div><p>
			The skin service handles stylesheet rewriting to accommodate the orientation. It works by appending -lt or -rt to the stylesheet name.
		</p><p>
			For instance: <code class="filename">/web/skin/portal/webui/component/UIFooterPortlet/DefaultStylesheet-rt.css</code> will return the same stylesheet as <code class="filename">/web/skin/portal/webui/component/UIFooterPortlet/DefaultStylesheet.css</code> but processed for the RT orientation. The <em class="parameter"><code>-lt</code></em> suffix is optional.
		</p><p>
			Stylesheet authors can annotate their stylesheet to create content that depends on the orientation.
		</p><p class="formalpara"><a id="form-Reference_Guide-Stylesheet-Example_1"/></p><h5 xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="formalpara">Example 1</h5><p class="formalpara">
				In the example we need to use the orientation to modify the float attribute that will make the horizontal tabs either float on left or on right: 
</p><pre class="programlisting">
float: left; /* orientation=lt */
float: right; /* orientation=rt */
font-weight: bold;
text-align: center;
white-space: nowrap;
</pre><p class="formalpara">
				 The LT produced output will be: 
</p><pre class="programlisting">
float: left; /* orientation=lt */
font-weight: bold;
text-align: center;
white-space: nowrap;
</pre><p class="formalpara">
				 The RT produced output will be: 
</p><pre class="programlisting"> 
float: right; /* orientation=rt */
font-weight: bold;
text-align: center;
white-space: nowrap;
</pre><p class="formalpara">
			</p><p class="formalpara"><a id="form-Reference_Guide-Stylesheet-Example_2"/></p><h5 xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="formalpara">Example 2</h5><p class="formalpara">
				In this example we need to modify the padding according to the orientation: 
</p><pre class="programlisting">
color: white;
line-height: 24px;
padding: 0px 5px 0px 0px; /* orientation=lt */
padding: 0px 0px 0px 5px; /* &gt;orientation=rt */
</pre><p class="formalpara">
				 The LT produced output will be: 
</p><pre class="programlisting"> 
color: white;
line-height: 24px;
padding: 0px 5px 0px 0px; /* orientation=lt */
</pre><p class="formalpara">
				 The RT produced output will be: 
</p><pre class="programlisting"> 
color: white;
line-height: 24px;
padding: 0px 0px 0px 5px; /* orientation=rt */
</pre><p class="formalpara">
			</p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Reference_Guide-RTL_Right_To_Left_Framework-Images"/>3.8.3. Images</h3></div></div></div><p>
			Sometimes it is necessary to create an RT version of an image that will be used from a template or from a stylesheet. However symmetric images can be automatically generated avoiding the necessity to create a mirrored version of an image and furthermore avoiding maintenance cost.
		</p><p>
			The web resource filter uses the same naming pattern as the skin service. When an image ends with the -rt suffix the portal will attempt to locate the original image and create a mirror of it.
		</p><p>
			For instance: requesting the image <code class="filename">/GateInResources/skin/DefaultSkin/webui/component/UITabSystem/UITabs/background/NormalTabStyle-rt.gif</code> returns a mirror of the image <code class="filename">/GateInResources/skin/DefaultSkin/webui/component/UITabSystem/UITabs/background/NormalTabStyle.gif</code>.
		</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note"><h2>Note</h2><p>
				It is important to consider whether the image to be mirrored is symmetrical as this will impact it's final appearance.
			</p></div><p>
			Here is an example combining stylesheet and images:
		</p><pre class="programlisting">
line-height: 24px; 
background: url('background/NavigationTab.gif') no-repeat right top; /* orientation=lt */
background: url('background/NavigationTab-rt.gif') no-repeat left top; /* orientation=rt */
padding-right: 2px; /* orientation=lt */
padding-left: 2px; /* orientation=rt */
</pre></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Reference_Guide-RTL_Right_To_Left_Framework-Client_side_JavaScript"/>3.8.4. Client side JavaScript</h3></div></div></div><p>
			The <code class="literal">eXo.core.I18n</code> object provides the following parameters for orientation:
		</p><div class="variablelist"><dl><dt><span class="term">getOrientation()</span></dt><dd><p>
						Returns either the string lt or rt
					</p></dd><dt><span class="term">getDir()</span></dt><dd><p>
						Returns either the string ltr or rtl
					</p></dd><dt><span class="term">isLT()</span></dt><dd><p>
						Returns true for LT
					</p></dd><dt><span class="term">isRT()</span></dt><dd><p>
						Returns true of RT
					</p></dd></dl></div></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Reference_Guide-XML_Resources_Bundles"/>3.9. XML Resources Bundles</h2></div></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Reference_Guide-XML_Resources_Bundles-Motivation"/>3.9.1. Motivation</h3></div></div></div><p>
			Resource bundles are usually stored in property files. However, as property files are plain files, issues with the encoding of the file may arise. The XML resource bundle format has been developed to provide an alternative to property files.
		</p><div class="itemizedlist"><ul><li><p>
					The XML format declares the encoding of the file. This avoids use of the native2ascii program which can interfere with encoding.
				</p></li><li><p>
					Property files generally use ISO 8859-1 character encoding which does not cover the full unicode charset. As a result, languages such as Arabic would not be natively supported.
				</p></li><li><p>
					Tooling for XML files is better supported than the tooling for Java property files and thus the XML editor copes well with the file encoding.
				</p></li></ul></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Reference_Guide-XML_Resources_Bundles-XML_format"/>3.9.2. XML format</h3></div></div></div><p>
			The XML format is very simple and has been developed based on the <span class="emphasis"><em>DRY</em></span> (Don't Repeat Yourself) principle. Usually resource bundle keys are hierarchically defined and we can leverage the hierarchic nature of the XML for that purpose. Here is an example of turning a property file into an XML resource bundle file:
		</p><pre class="programlisting">UIAccountForm.tab.label.AccountInputSet = ...
UIAccountForm.tab.label.UIUserProfileInputSet = ...
UIAccountForm.label.Profile = ...
UIAccountForm.label.HomeInfo= ...
UIAccountForm.label.BusinessInfo= ...
UIAccountForm.label.password= ...
UIAccountForm.label.Confirmpassword= ...
UIAccountForm.label.email= ...
UIAccountForm.action.Reset= ...
</pre><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="XML"><!-- XML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_processing_instruction">&lt;?xml&nbsp;version=&quot;1.0&quot;&nbsp;encoding=&quot;UTF-8&quot;?&gt;</span><span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">bundle</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">UIAccountForm</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">tab</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">label</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">AccountInputSet</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">...</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">AccountInputSet</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">UIUserProfileInputSet</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">...</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">UIUserProfileInputSet</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">label</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">tab</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">label</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">Profile</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">...</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">Profile</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">HomeInfo</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">...</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">HomeInfo</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">BusinessInfo</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">...</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">BusinessInfo</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">password</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">...</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">password</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">Confirmpassword</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">...</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">Confirmpassword</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">email</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">...</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">email</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">label</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">action</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">Reset</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">...</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">Reset</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">action</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">UIAccountForm</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">bundle</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
</pre></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Reference_Guide-XML_Resources_Bundles-Portal_support"/>3.9.3. Portal support</h3></div></div></div><p>
			In order to be loaded by the portal at runtime (actually the resource bundle service), the name of the file must be the same as a property file and it must use the <span class="bold"><strong>.xml</strong></span> suffix.
		</p><p>
			For example; for the Account Portlet to be displayed in Arabic, the resource bundle would be <span class="bold"><strong> AccountPortlet_ar.xml</strong></span> rather than <span class="bold"><strong>AccountPortlet_ar.properties</strong></span>.
		</p></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Reference_Guide-JavaScript_Inter_Application_Communication"/>3.10. JavaScript Inter Application Communication</h2></div></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Reference_Guide-JavaScript_Inter_Application_Communication-Overview"/>3.10.1. Overview</h3></div></div></div><p>
			JavaScript Inter Application Communication is designed to allow applications within a page to exchange data. This library is made for broadcasting messages on topic.
		</p><p>
			It is based on 3 functions:
		</p><div class="itemizedlist"><ul><li><p>
					Subscribe.
				</p></li><li><p>
					Publish.
				</p></li><li><p>
					Unsubscribe.
				</p></li></ul></div><p>
			A subscription to a topic will receive any subtopic messages. For example; An application subscribed to "<code class="literal">/eXo/application</code>" will receive messages sent on the "<code class="literal">/eXo/application/map</code>" topic. A message sent on "<code class="literal">/eXo</code>", however, would not be received.
		</p><div class="variablelist"><a id="vari-Reference_Guide-Overview-Subscription_Topics"/><p class="title"><b>Subscription Topics</b></p><dl><dt><span class="term">/eXo</span></dt><dd><p>
						This topic contains all the events generated by the platform.
					</p></dd><dt><span class="term">/eXo/portal/notification</span></dt><dd><p>
						A message is sent on this topic will prompt a popup notification in the top right of the screen.
					</p></dd></dl></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Reference_Guide-JavaScript_Inter_Application_Communication-Library"/>3.10.2. Library</h3></div></div></div><p>
			The Inter Application Communication library is found in <code class="filename">01eXoResources.war:/javascript/eXo/core/Topic.js</code>
		</p><pre class="programlisting">/**
 * publish is used to publish an event to the other subscribers to the given channels
 * @param {Object} senderId is a string that identify the sender
 * @param {String} topic is the topic that the message will be published
 * @param {Object} message is the message that's going to be delivered to the subscribers to the topic
 */
Topic.prototype.publish = function(/*Object*/ senderId, /*String*/ topicName, /*Object*/ message ) { ... }

/**
 * isSubscribed is used to check if a function receive the events from a topic
 * @param {String} topic The topic.
 * @param {Function} func is the name of the function of obj to call when a message is received on the topic
 */
Topic.prototype.isSubscribed = function(/*String*/ topic, /*Function*/ func) { ... }

/**
 * subscribe is used to subscribe a callback to a topic
 * @param {String} topic is the topic that will be listened
 * @param {Function} func is the name of the function of obj to call when a message is received on the topic
 * 
 * func is a function that take a Object in parameter. the event received have this format:
 * {senderId:senderId, message:message, topic: topic}
 *
 */
Topic.prototype.subscribe = function(/*String*/ topic, /*Function*/ func) { ... }

/**
 * unsubscribe is used to unsubscribe a callback to a topic
 * @param {String} topic is the topic
 * @param {Object} id is the id of the listener we want to unsubscribe
 */
Topic.prototype.unsubscribe = function(/*String*/ topic, /*Object*/ id) { ... }

Topic.prototype.initCometdBridge = function() { ... }
</pre></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Reference_Guide-JavaScript_Inter_Application_Communication-Syntax"/>3.10.3. Syntax</h3></div></div></div><p>
			The three messaging functions require particular objects and definitions in their syntax:
		</p><div class="variablelist"><dl><dt><span class="term">Subscribe</span></dt><dd><p>
						The <code class="literal">subscribe</code> function is used to subscribe a callback to a topic. It uses the following parameters:
					</p><div class="variablelist"><dl><dt><span class="term">topic</span></dt><dd><p>
									The topic that will be listened for.
								</p></dd><dt><span class="term">func</span></dt><dd><p>
									The name of the object function to call when a message is received on the topic. It has to be a function that takes an Object parameter. The event received will have this format: 
</p><pre class="programlisting">{
  senderId:senderId,
  message:message,
  topic: topic
}
</pre><p>
								</p></dd></dl></div></dd><dt><span class="term">Publish</span></dt><dd><p>
						The <code class="literal">publish</code> function is used to publish an event to the other subscribered applications through the given channels. Its parameters are:
					</p><div class="variablelist"><dl><dt><span class="term">senderId</span></dt><dd><p>
									This is a string that identifies the sender.
								</p></dd><dt><span class="term">topicName</span></dt><dd><p>
									The topic that the message will be published.
								</p></dd><dt><span class="term">message</span></dt><dd><p>
									This is the message body to be delivered to the subscribers to the topic.
								</p></dd></dl></div></dd><dt><span class="term">Unsubscribe</span></dt><dd><p>
						The <code class="literal">unsubscribe</code> function is used to unsubscribe a callback to a topic. The required parameters are:
					</p><div class="variablelist"><dl><dt><span class="term">topic</span></dt><dd><p>
									The topic that will is to be unsubscribed from.
								</p></dd><dt><span class="term">id</span></dt><dd><p>
									This is the context object.
								</p></dd></dl></div></dd></dl></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Reference_Guide-JavaScript_Inter_Application_Communication-Example_of_what"/>3.10.4. Example of Javascript events usage</h3></div></div></div><pre class="programlisting">&lt;%@ taglib uri="http://java.sun.com/portlet" prefix="portlet" %&gt;
&lt;portlet:defineObjects/&gt;
&lt;div&gt;
  &lt;p&gt;
    Received messages:
    &lt;div id="received_&lt;portlet:namespace/&gt;"&gt;
         
    &lt;/div&gt;
  &lt;/p&gt;
   
  &lt;p&gt;
    Send message:
    &lt;input type="text" id="msg_&lt;portlet:namespace/&gt;"/&gt; &lt;a href="#" onclick="send_&lt;portlet:namespace/&gt;();"&gt;send&lt;/a&gt;
  &lt;/p&gt;
&lt;/div&gt;

&lt;script type="text/javascript"&gt;
   
  Function.prototype.bind = function(object) {
    var method = this;
      return function() {
      method.apply(object, arguments);
    }
  }
   
  function send_&lt;portlet:namespace/&gt;() {
    var msg = document.getElementById("msg_&lt;portlet:namespace/&gt;").value;
    eXo.core.Topic.publish("&lt;portlet:namespace/&gt;", "/demo", msg);
  }
   
  function Listener_&lt;portlet:namespace/&gt;(){
      
  }
   
  Listener_&lt;portlet:namespace/&gt;.prototype.receiveMsg = function(event) {
    document.getElementById("received_&lt;portlet:namespace/&gt;").innerHTML = 
      document.getElementById("received_&lt;portlet:namespace/&gt;").innerHTML + "&lt;br /&gt;* " + 
      event.senderId + ": " + event.message;
  }
   
  function init_&lt;portlet:namespace/&gt;() {
    var listener_&lt;portlet:namespace/&gt; = new Listener_&lt;portlet:namespace/&gt;();
    eXo.core.Topic.subscribe("/demo", listener_&lt;portlet:namespace/&gt;.receiveMsg.bind(listener_&lt;portlet:namespace/&gt;));
  }
   
  init_&lt;portlet:namespace/&gt;();
&lt;/script&gt;
</pre></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Reference_Guide-Upload_Component"/>3.11. Upload Component</h2></div></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Reference_Guide-Upload_Component-Upload_Service"/>3.11.1. Upload Service</h3></div></div></div><p>
			The service is defined by the class: <code class="literal">org.exoplatform.upload.UploadService</code>;
		</p><p>
			This can be configured with the following xml code:
		</p><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="XML"><!-- XML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">component</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">type</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">org.exoplatform.upload.UploadService</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">type</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">init-params</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">value-param</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">upload.limit.size</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">description</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">Maximum&nbsp;size&nbsp;of&nbsp;the&nbsp;file&nbsp;to&nbsp;upload&nbsp;in&nbsp;MB</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">description</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">10</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">value-param</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">init-params</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">&nbsp;&nbsp;</span><br />
<span class="xml_plain">&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">component</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
</pre><p>
			This code allows for a default upload size limit for the service to be configured. The value unit is in MegaBytes.
		</p><p>
			This limit will be used by default by all applications if no application-specific limit is set. Setting a different limit for applications is discussed in a later section.
		</p><p>
			If the value is set at <em class="parameter"><code>0</code></em> the upload size is unlimited.
		</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="procedure"><a id="proc-Reference_Guide-Upload_Service-How_to_use_the_upload_component"/><p class="title"><b>Procedure 3.4. How to use the upload component</b></p><ol class="1"><li><p>
					Create an object type <code class="literal">org.exoplatform.webui.form.UIFormUploadInput</code>.
				</p><p>
					Two constructors are available for this:
				</p><pre class="programlisting">public UIFormUploadInput(String name, String bindingExpression)
</pre><p>
					or:
				</p><pre class="programlisting">public UIFormUploadInput(String name, String bindingExpression, int limit)
</pre><p>
					This is an example using the second form :
				</p><pre xmlns="" class="JAVA"><!-- <br/> --><span class="java_type">PortletRequestContext</span><!-- <br/> --><span class="java_plain">&nbsp;pcontext&nbsp;</span><!-- <br/> --><span class="java_operator">=</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_separator">(</span><!-- <br/> --><span class="java_type">PortletRequestContext</span><!-- <br/> --><span class="java_separator">)</span><!-- <br/> --><span class="java_type">WebuiRequestContext</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_plain">getCurrentInstance</span><!-- <br/> --><span class="java_separator">();</span>
<!--  --><br/><span class="java_type">PortletPreferences</span><span class="java_plain">&nbsp;portletPref&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;pcontext</span><span class="java_separator">.</span><span class="java_plain">getRequest</span><span class="java_separator">().</span><span class="java_plain">getPreferences</span><span class="java_separator">();</span>
<!--  --><br/><span class="java_type">int</span><span class="java_plain">&nbsp;limitMB&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_type">Integer</span><span class="java_separator">.</span><span class="java_plain">parseInt</span><span class="java_separator">(</span><span class="java_plain">portletPref</span><span class="java_separator">.</span><span class="java_plain">getValue</span><span class="java_separator">(</span><span class="java_literal">&quot;uploadFileSizeLimitMB&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;&quot;</span><span class="java_separator">).</span><span class="java_plain">trim</span><span class="java_separator">());</span>
<!--  --><br/><span class="java_type">UIFormUploadInput</span><span class="java_plain">&nbsp;uiInput&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">UIFormUploadInput</span><span class="java_separator">(</span><span class="java_literal">&quot;upload&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;upload&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;limitMB</span><span class="java_separator">);</span>
</pre></li><li><p>
					To obtain the limit from the <code class="literal">xml</code> configuration, this piece of code can be added to the either <code class="filename">portlet.xml</code> or <code class="filename">portlet-preferences.xml</code> :
				</p><pre xmlns="" class="XML"><!-- XML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">preference</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">uploadFileSizeLimitMB</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">name</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">30</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">value</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_plain">&nbsp;&nbsp;</span><span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">read-only</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain">false</span><span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">read-only</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
<span class="xml_tag_symbols">&lt;/</span><span class="xml_tag_name">preference</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
</pre><p>
					Again, a <em class="parameter"><code>0</code></em> value means an unlimited upload size, and the value unit is set in MegaBytes.
				</p></li><li><p>
					Use the <code class="literal">getUploadDataAsStream()</code> method to get the uploaded data:
				</p><pre xmlns="" class="JAVA"><!-- <br/> --><span class="java_type">UIFormUploadInput</span><!-- <br/> --><span class="java_plain">&nbsp;input&nbsp;</span><!-- <br/> --><span class="java_operator">=</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_separator">(</span><!-- <br/> --><span class="java_type">UIFormUploadInput</span><!-- <br/> --><span class="java_separator">)</span><!-- <br/> --><span class="java_plain">uiForm</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_plain">getUIInput</span><!-- <br/> --><span class="java_separator">(</span><!-- <br/> --><span class="java_literal">&quot;upload&quot;</span><!-- <br/> --><span class="java_separator">);</span>
<!--  --><br/><span class="java_type">InputStream</span><span class="java_plain">&nbsp;inputStream&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;input</span><span class="java_separator">.</span><span class="java_plain">getUploadDataAsStream</span><span class="java_separator">();</span>
<!--  --><br/><span class="java_separator">...</span>
<!--  --><br/><span class="java_plain">jcrData</span><span class="java_separator">.</span><span class="java_plain">setValue</span><span class="java_separator">(</span><span class="java_plain">inputStream</span><span class="java_separator">);</span>
</pre></li><li><p>
					The upload service stores a temporary file on the filesystem during the upload process. When the upload is finished, the service must be cleaned in order to:
				</p><div class="orderedlist"><ol><li><p>
							Delete the temporary file.
						</p></li><li><p>
							Delete the classes used for the upload.
						</p></li></ol></div><p>
					Use the<code class="literal">removeUpload()</code> method defined in the upload service to purge the file:
				</p><pre xmlns="" class="JAVA"><!-- <br/> --><span class="java_type">UploadService</span><!-- <br/> --><span class="java_plain">&nbsp;uploadService&nbsp;</span><!-- <br/> --><span class="java_operator">=</span><!-- <br/> --><span class="java_plain">&nbsp;uiForm</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_plain">getApplicationComponent</span><!-- <br/> --><span class="java_separator">(</span><!-- <br/> --><span class="java_type">UploadService</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_keyword">class</span><!-- <br/> --><span class="java_separator">)</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_separator">;</span>
<!--  --><br/><span class="java_type">UIFormUploadInput</span><span class="java_plain">&nbsp;uiChild&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;uiForm</span><span class="java_separator">.</span><span class="java_plain">getChild</span><span class="java_separator">(</span><span class="java_type">UIFormUploadInput</span><span class="java_separator">.</span><span class="java_keyword">class</span><span class="java_separator">)</span><span class="java_plain">&nbsp;</span><span class="java_separator">;</span>
<!--  --><br/><span class="java_plain">uploadService</span><span class="java_separator">.</span><span class="java_plain">removeUpload</span><span class="java_separator">(</span><span class="java_plain">uiChild</span><span class="java_separator">.</span><span class="java_plain">getUploadId</span><span class="java_separator">())</span><span class="java_plain">&nbsp;</span><span class="java_separator">;</span>
</pre><div class="note"><h2>Saving the uploaded file</h2><p>
						Ensure the file is saved <span class="bold"><strong>before</strong></span> the service is cleaned.
					</p></div></li></ol></div></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Reference_Guide-Deactivation_of_the_Ajax_Loading_Mask_Layer_"/>3.12. Deactivation of the Ajax Loading Mask Layer </h2></div></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Reference_Guide-Deactivation_of_the_Ajax_Loading_Mask_Layer_-Purpose"/>3.12.1. Purpose</h3></div></div></div><p>
			The loading mask layer is deployed after an ajax-call. Its purpose is to block the GUI in order to prevent further user actions until the the ajax-request has been completed.
		</p><p>
			However, the mask layer may need to be deactivated in instances where the portal requires user instructions before previous instructions have been carried out.
		</p><div xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="procedure"><a id="proc-Reference_Guide-Purpose-How_to_deactivate_the_ajax_loading_mask"/><p class="title"><b>Procedure 3.5. How to deactivate the ajax-loading mask</b></p><ol class="1"><li><p>
					Generate a script to make an asynchronous ajax-call. Use the <code class="literal">uicomponent.doAsync()</code> method rather than the <code class="literal">uicomponent.event()</code> method.
				</p><p>
					For example:
				</p><pre class="programlisting">&lt;a href="&lt;%=uicomponent.doAsync(action, beanId, params)%&gt;" alt=""&gt;Asynchronous&lt;/a&gt;
</pre></li><li><p>
					The <code class="literal">doAsync()</code> method automatically adds the following new parameter into the parameters list; <code class="literal">asyncparam = new Parameter(AJAX ASYNC,"true"); (AJAX ASYNC == "ajax async")</code>
				</p><p>
					This request is asynchronous and the ajax-loading mask will not deployed.
				</p><div class="note"><h2>Note</h2><p>
						An asynchronous request can still be made using the <code class="literal">uicomponent.event()</code>. When using this method, however, the asyncparam must be added manually.
					</p></div></li></ol></div><p>
			The GUI will be blocked to ensure a user can only request one action at a time and while the request seems to be synchronous, all ajax requests are, in fact always asynchronous. For further information refer to <a class="xref" href="chap-Reference_Guide-Development.html#sect-Reference_Guide-Deactivation_of_the_Ajax_Loading_Mask_Layer_-Synchronous_issue" title="3.12.2. Synchronous issue">Section 3.12.2, “Synchronous issue”</a>.
		</p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h3 class="title"><a id="sect-Reference_Guide-Deactivation_of_the_Ajax_Loading_Mask_Layer_-Synchronous_issue"/>3.12.2. Synchronous issue</h3></div></div></div><p>
			Most web browsers support ajax requests in two modes: <span class="emphasis"><em>Synchronous</em></span> and <span class="emphasis"><em>Asynchronous</em></span>. This mode is specified with a boolean <code class="literal">bAsync</code> parameter.
		</p><pre class="programlisting">var bAsync = false; // Synchronous
request.open(instance.method, instance.url, bAsync);
</pre><p>
			However, in order to work with browsers that do not support <span class="emphasis"><em>Synchronous</em></span> requests, <code class="literal">bAsync</code> is set to always be true (Ajax request will always be asynchronous).
		</p><pre class="programlisting">// Asynchronous request
request.open(instance.method, instance.url, true);
</pre></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="sect-Reference_Guide-Javascript_Configuration"/>3.13. Javascript Configuration</h2></div></div></div><p>
		Managing Javascript scripts in an application like GateIn 3.2 is a critical part of the configuration work.
      Configuring the scripts correctly will result in a faster response time from the portal.
	</p><p>
		Every portlet can have its own javscript code but in many cases it is more convenient to reuse some existing
      shared libraries. For that reason, GateIn 3.2 has a mechanism to easily register the libraries that will be loaded
      when the first page will be rendered.
	</p><p>
		To do so, every WAR deployed in GateIn 3.2 can register the <code class="filename">.js</code> files with the groovy script
      <code class="filename">WEB-INF/conf/script/groovy/JavascriptScript.groovy</code>. (TODO: this file doesn't seem to exist)
	</p><p>
		The example file below is found in the 01eXoResources.war
	</p><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"><!-- <br/> --><span class="java_type">JavascriptService</span><!-- <br/> --><span class="java_separator">.</span><!-- <br/> --><span class="java_plain">addJavascript</span><!-- <br/> --><span class="java_separator">(</span><!-- <br/> --><span class="java_literal">&quot;eXo&quot;</span><!-- <br/> --><span class="java_separator">,</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_literal">&quot;/javascript/eXo.js&quot;</span><!-- <br/> --><span class="java_separator">,</span><!-- <br/> --><span class="java_plain">&nbsp;</span><!-- <br/> --><span class="java_type">ServletContext</span><!-- <br/> --><span class="java_separator">);</span>
<!--  --><br/><span class="java_comment">/*&nbsp;Animation&nbsp;Javascripts&nbsp;*/</span>
<!--  --><br/><span class="java_type">JavascriptService</span><span class="java_separator">.</span><span class="java_plain">addJavascript</span><span class="java_separator">(</span><span class="java_literal">&quot;eXo.animation.ImplodeExplode&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;/javascript/eXo/animation/ImplodeExplode.js&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">ServletContext</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_comment">/*&nbsp;Application&nbsp;descriptor&nbsp;*/</span>
<!--  --><br/><span class="java_type">JavascriptService</span><span class="java_separator">.</span><span class="java_plain">addJavascript</span><span class="java_separator">(</span><span class="java_literal">&quot;eXo.application.ApplicationDescriptor&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;/javascript/eXo/application/ApplicationDescriptor.js&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">ServletContext</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_comment">/*&nbsp;CORE&nbsp;Javascripts&nbsp;*/</span>
<!--  --><br/><span class="java_type">JavascriptService</span><span class="java_separator">.</span><span class="java_plain">addJavascript</span><span class="java_separator">(</span><span class="java_literal">&quot;eXo.core.Utils&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;/javascript/eXo/core/Util.js&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">ServletContext</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_type">JavascriptService</span><span class="java_separator">.</span><span class="java_plain">addJavascript</span><span class="java_separator">(</span><span class="java_literal">&quot;eXo.core.DOMUtil&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;/javascript/eXo/core/DOMUtil.js&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">ServletContext</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_type">JavascriptService</span><span class="java_separator">.</span><span class="java_plain">addJavascript</span><span class="java_separator">(</span><span class="java_literal">&quot;eXo.core.Browser&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;/javascript/eXo/core/Browser.js&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">ServletContext</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_type">JavascriptService</span><span class="java_separator">.</span><span class="java_plain">addJavascript</span><span class="java_separator">(</span><span class="java_literal">&quot;eXo.core.MouseEventManager&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;/javascript/eXo/core/MouseEventManager.js&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">ServletContext</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_type">JavascriptService</span><span class="java_separator">.</span><span class="java_plain">addJavascript</span><span class="java_separator">(</span><span class="java_literal">&quot;eXo.core.UIMaskLayer&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;/javascript/eXo/core/UIMaskLayer.js&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">ServletContext</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_type">JavascriptService</span><span class="java_separator">.</span><span class="java_plain">addJavascript</span><span class="java_separator">(</span><span class="java_literal">&quot;eXo.core.Skin&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;/javascript/eXo/core/Skin.js&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">ServletContext</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_type">JavascriptService</span><span class="java_separator">.</span><span class="java_plain">addJavascript</span><span class="java_separator">(</span><span class="java_literal">&quot;eXo.core.DragDrop&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;/javascript/eXo/core/DragDrop.js&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">ServletContext</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_type">JavascriptService</span><span class="java_separator">.</span><span class="java_plain">addJavascript</span><span class="java_separator">(</span><span class="java_literal">&quot;eXo.core.TemplateEngine&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;/javascript/eXo/core/TemplateEngine.js&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">ServletContext</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_comment">/*&nbsp;Widget&nbsp;Javascripts&nbsp;*/</span>
<!--  --><br/><span class="java_type">JavascriptService</span><span class="java_separator">.</span><span class="java_plain">addJavascript</span><span class="java_separator">(</span><span class="java_literal">&quot;eXo.widget.UIWidget&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;/javascript/eXo/widget/UIWidget.js&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">ServletContext</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_type">JavascriptService</span><span class="java_separator">.</span><span class="java_plain">addJavascript</span><span class="java_separator">(</span><span class="java_literal">&quot;eXo.widget.UIAddWidget&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;/javascript/eXo/widget/UIAddWidget.js&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">ServletContext</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_type">JavascriptService</span><span class="java_separator">.</span><span class="java_plain">addJavascript</span><span class="java_separator">(</span><span class="java_literal">&quot;eXo.widget.UIExoWidget&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;/javascript/eXo/widget/UIExoWidget.js&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">ServletContext</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_comment">/*&nbsp;Desktop&nbsp;Javascripts&nbsp;*/</span>
<!--  --><br/><span class="java_type">JavascriptService</span><span class="java_separator">.</span><span class="java_plain">addJavascript</span><span class="java_separator">(</span><span class="java_literal">&quot;eXo.desktop.UIDockbar&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;/javascript/eXo/desktop/UIDockbar.js&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">ServletContext</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_type">JavascriptService</span><span class="java_separator">.</span><span class="java_plain">addJavascript</span><span class="java_separator">(</span><span class="java_literal">&quot;eXo.desktop.UIDesktop&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;/javascript/eXo/desktop/UIDesktop.js&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">ServletContext</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_comment">/*&nbsp;WebUI&nbsp;Javascripts&nbsp;*/</span><span class="java_plain">&nbsp;</span>
<!--  --><br/><span class="java_type">JavascriptService</span><span class="java_separator">.</span><span class="java_plain">addJavascript</span><span class="java_separator">(</span><span class="java_literal">&quot;eXo.webui.UIItemSelector&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;/javascript/eXo/webui/UIItemSelector.js&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">ServletContext</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_type">JavascriptService</span><span class="java_separator">.</span><span class="java_plain">addJavascript</span><span class="java_separator">(</span><span class="java_literal">&quot;eXo.webui.UIForm&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;/javascript/eXo/webui/UIForm.js&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">ServletContext</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_type">JavascriptService</span><span class="java_separator">.</span><span class="java_plain">addJavascript</span><span class="java_separator">(</span><span class="java_literal">&quot;eXo.webui.UIPopup&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;/javascript/eXo/webui/UIPopup.js&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">ServletContext</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_type">JavascriptService</span><span class="java_separator">.</span><span class="java_plain">addJavascript</span><span class="java_separator">(</span><span class="java_literal">&quot;eXo.webui.UIPopupSelectCategory&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;/javascript/eXo/webui/UIPopupSelectCategory.js&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">ServletContext</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_type">JavascriptService</span><span class="java_separator">.</span><span class="java_plain">addJavascript</span><span class="java_separator">(</span><span class="java_literal">&quot;eXo.webui.UIPopupWindow&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;/javascript/eXo/webui/UIPopupWindow.js&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">ServletContext</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_type">JavascriptService</span><span class="java_separator">.</span><span class="java_plain">addJavascript</span><span class="java_separator">(</span><span class="java_literal">&quot;eXo.webui.UIVerticalScroller&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;/javascript/eXo/webui/UIVerticalScroller.js&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">ServletContext</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_type">JavascriptService</span><span class="java_separator">.</span><span class="java_plain">addJavascript</span><span class="java_separator">(</span><span class="java_literal">&quot;eXo.webui.UIHorizontalTabs&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;/javascript/eXo/webui/UIHorizontalTabs.js&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">ServletContext</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_type">JavascriptService</span><span class="java_separator">.</span><span class="java_plain">addJavascript</span><span class="java_separator">(</span><span class="java_literal">&quot;eXo.webui.UIPopupMenu&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;/javascript/eXo/webui/UIPopupMenu.js&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">ServletContext</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_type">JavascriptService</span><span class="java_separator">.</span><span class="java_plain">addJavascript</span><span class="java_separator">(</span><span class="java_literal">&quot;eXo.webui.UIDropDownControl&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;/javascript/eXo/webui/UIDropDownControl.js&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">ServletContext</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_comment">/*&nbsp;Portal&nbsp;Javascripts&nbsp;*/</span><span class="java_plain">&nbsp;</span>
<!--  --><br/><span class="java_type">JavascriptService</span><span class="java_separator">.</span><span class="java_plain">addJavascript</span><span class="java_separator">(</span><span class="java_literal">&quot;eXo.portal.PortalHttpRequest&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;/javascript/eXo/portal/PortalHttpRequest.js&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">ServletContext</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_type">JavascriptService</span><span class="java_separator">.</span><span class="java_plain">addJavascript</span><span class="java_separator">(</span><span class="java_literal">&quot;eXo.portal.UIPortal&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;/javascript/eXo/portal/UIPortal.js&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">ServletContext</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_type">JavascriptService</span><span class="java_separator">.</span><span class="java_plain">addJavascript</span><span class="java_separator">(</span><span class="java_literal">&quot;eXo.portal.UIWorkspace&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;/javascript/eXo/portal/UIWorkspace.js&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">ServletContext</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_type">JavascriptService</span><span class="java_separator">.</span><span class="java_plain">addJavascript</span><span class="java_separator">(</span><span class="java_literal">&quot;eXo.portal.UIPortalControl&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;/javascript/eXo/portal/UIPortalControl.js&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">ServletContext</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_type">JavascriptService</span><span class="java_separator">.</span><span class="java_plain">addJavascript</span><span class="java_separator">(</span><span class="java_literal">&quot;eXo.portal.PortalDragDrop&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;/javascript/eXo/portal/PortalDragDrop.js&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">ServletContext</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_type">JavascriptService</span><span class="java_separator">.</span><span class="java_plain">addJavascript</span><span class="java_separator">(</span><span class="java_literal">&quot;eXo.portal.UIPortalNavigation&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;/javascript/eXo/portal/UIPortalNavigation.js&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">ServletContext</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_type">JavascriptService</span><span class="java_separator">.</span><span class="java_plain">addJavascript</span><span class="java_separator">(</span><span class="java_literal">&quot;eXo.portal.UIMaskWorkspace&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;/javascript/eXo/portal/UIMaskWorkspace.js&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">ServletContext</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_type">JavascriptService</span><span class="java_separator">.</span><span class="java_plain">addJavascript</span><span class="java_separator">(</span><span class="java_literal">&quot;eXo.portal.UIExoStartMenu&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;/javascript/eXo/portal/UIExoStartMenu.js&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">ServletContext</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_comment">/*&nbsp;Desktop&nbsp;Javascripts&nbsp;2&nbsp;*/</span>
<!--  --><br/><span class="java_type">JavascriptService</span><span class="java_separator">.</span><span class="java_plain">addJavascript</span><span class="java_separator">(</span><span class="java_literal">&quot;eXo.desktop.UIWindow&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_literal">&quot;/javascript/eXo/desktop/UIWindow.js&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">ServletContext</span><span class="java_separator">);</span>
</pre><p>
		Note that even registered dedicated javascripts will be merged into a single <code class="literal">merged.js</code> file when the server loads. This reduces the number of HTTP calls as seen in the home page source code:
	</p><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="XML"><!-- XML : generated by JHighlight v1.0 (http://jhighlight.dev.java.net) -->
<span class="xml_tag_symbols">&lt;</span><span class="xml_tag_name">script</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">type</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;text/javascript&quot;</span><span class="xml_plain">&nbsp;</span><span class="xml_attribute_name">src</span><span class="xml_tag_symbols">=</span><span class="xml_attribute_value">&quot;/portal/javascript/merged.js&quot;</span><span class="xml_tag_symbols">&gt;&lt;/</span><span class="xml_tag_name">script</span><span class="xml_tag_symbols">&gt;</span><span class="xml_plain"></span><br />
</pre><p>
		Although this optimization is useful for a production environment, it may be easier to deactivate this optimization while debugging javascript problems.
	</p><p>
		To do this, set the java system property <code class="literal">exo.product.developing</code> to <code class="literal">true</code>.
	</p><p>
		To see or use the merged file set this property to <code class="literal">false</code>.
	</p><p>
		The property can be passed as a JVM parameter with the <code class="literal">-D</code> option in your <code class="literal">GateIn.sh</code> or <code class="literal">GateIn.bat</code> startup script.
	</p><p>
		Every javascript file is associated with a module name which acts as a namespace.

      The module name is passed as a first parameter to JavascriptService.addJavascript() function as in the following example:
   </p><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"></span>
<!--  --><br/><span class="java_type">JavascriptService</span><span class="java_separator">.</span><span class="java_plain">addJavascript</span><span class="java_separator">(</span><span class="java_literal">&quot;eXo.core.DragDrop&quot;</span><span class="java_separator">,</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="java_literal">&quot;/javascript/eXo/core/DragDrop.js&quot;</span><span class="java_separator">,</span><span class="java_plain">&nbsp;</span><span class="java_type">ServletContext</span><span class="java_separator">);</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;</span></pre><p>
      Inside the associated javascript files, functions are exposed as global javascript function variables using the module name.
	</p><p> For example:</p><pre xmlns="" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="JAVA"></span>
<!--  --><br/><span class="java_plain">eXo</span><span class="java_separator">.</span><span class="java_plain">core</span><span class="java_separator">.</span><span class="java_type">DragDrop</span><span class="java_plain">&nbsp;</span><span class="java_operator">=</span><span class="java_plain">&nbsp;</span><span class="java_keyword">new</span><span class="java_plain">&nbsp;</span><span class="java_type">DragDrop</span><span class="java_separator">();</span>
<!--  --><br/><span class="java_plain">&nbsp;&nbsp;&nbsp;</span></pre><p>
		It is also possible to use <code class="literal">eXo.require()</code> javascript method to lazy load and evaluate some javascript code.
      This is quite useful for the portlet or widget applications that will use this javascript only once. Otherwise,
      if the library is reusable in several places it is better to reference it in the groovy file.
	</p></div></div><ul class="docnav"><li class="previous"><a accesskey="p" href="chap-Reference_Guide-Configuration.html"><strong>Prev</strong>Chapter 2. Configuration</a></li><li class="up"><a accesskey="u" href="#"><strong>Top of page</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Front page</strong></a></li><li class="next"><a accesskey="n" href="chap-Reference_Guide-Portlet_development.html"><strong>Next</strong>Chapter 4. Portlet development</a></li></ul></body></html>